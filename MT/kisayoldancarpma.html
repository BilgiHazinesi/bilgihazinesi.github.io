<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sihirli DÃ¶nÃ¼ÅŸÃ¼m ve Ã‡arpma</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap');

        body {
            font-family: 'Patrick Hand', cursive; /* El yazÄ±sÄ± fontu */
            background-color: #fff8e1; /* Defter kaÄŸÄ±dÄ± rengi */
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            color: #444;
        }

        h1 { font-size: 2.5rem; color: #d84315; margin-bottom: 10px; }
        
        .container {
            width: 90%;
            max-width: 900px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        /* Kontrol Paneli */
        .controls {
            background: white;
            padding: 15px;
            border-radius: 15px;
            box-shadow: 4px 4px 0px #333;
            border: 2px solid #333;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        input {
            padding: 10px;
            font-size: 1.5rem;
            width: 120px;
            text-align: center;
            border: 2px solid #555;
            border-radius: 8px;
            font-family: 'Patrick Hand', cursive;
        }

        .btn-group button {
            padding: 10px 20px;
            font-size: 1.3rem;
            border: 2px solid #333;
            border-radius: 8px;
            cursor: pointer;
            margin: 0 5px;
            background: #fff;
            transition: all 0.2s;
            font-family: 'Patrick Hand', cursive;
        }

        .btn-group button:hover { transform: translateY(-3px); box-shadow: 0 3px 0 #333; }
        .btn-group button:active { transform: translateY(0); box-shadow: none; }

        .btn-5 { background-color: #ffccbc !important; }
        .btn-25 { background-color: #c8e6c9 !important; }
        .btn-125 { background-color: #b3e5fc !important; }

        /* BÃ–LÃœM 1: TEORÄ° ANÄ°MASYONU */
        #theory-stage {
            background: #e1f5fe;
            border: 3px dashed #0288d1;
            border-radius: 15px;
            min-height: 180px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            position: relative;
            overflow: hidden;
        }

        .theory-row { display: flex; align-items: center; gap: 10px; font-size: 2rem; }
        
        .bubble {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #ff7043;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            transition: all 0.5s;
            position: relative;
        }

        .helper-2 {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #66bb6a;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.2rem;
            position: absolute;
            top: -50px; /* YukarÄ±dan dÃ¼ÅŸecek */
            opacity: 0;
            transition: all 0.8s;
        }
        
        .bubble.merged {
            background: #0277bd;
            width: 80px;
            height: 80px;
            font-size: 2rem;
            transform: scale(1.1);
        }

        /* BÃ–LÃœM 2: Ä°ÅžLEM SAHNESÄ° */
        #calc-stage {
            background: #37474f; /* Tahta rengi */
            color: white;
            padding: 30px;
            border-radius: 15px;
            border: 6px solid #8d6e63; /* AhÅŸap Ã§erÃ§eve */
            min-height: 250px;
            font-family: 'Courier New', monospace;
            font-size: 2.2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 20px;
        }

        .calc-line {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s;
        }
        .calc-line.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        .highlight-num { color: #ffeb3b; font-weight: bold; }
        .divider-num { color: #f48fb1; }

        #narrator {
            text-align: center;
            font-size: 1.4rem;
            color: #555;
            background: #fff;
            padding: 10px;
            border-radius: 10px;
            border: 1px solid #ccc;
        }

    </style>
</head>
<body>

    <h1>âœ¨ 5, 25 ve 125 ile KÄ±sa Yoldan Ã‡arpma</h1>

    <div class="container">
        
        <div class="controls">
            <label>SayÄ± Girin:</label>
            <input type="number" id="inpNumber" value="8" placeholder="Ã–rn: 8">
            <div class="btn-group">
                <button class="btn-5" onclick="runSimulation(5)">x 5</button>
                <button class="btn-25" onclick="runSimulation(25)">x 25</button>
                <button class="btn-125" onclick="runSimulation(125)">x 125</button>
            </div>
        </div>

        <div id="narrator">Bir iÅŸlem seÃ§in, sihir baÅŸlasÄ±n!</div>

        <div id="theory-stage">
            <div style="margin-bottom:10px; color:#0277bd; font-weight:bold;">1. ADIM: DÃ–NÃœÅžÃœM (Neden bÃ¶lÃ¼yoruz?)</div>
            <div id="theory-content" class="theory-row"></div>
        </div>

        <div id="calc-stage">
            </div>

    </div>

    <script>
        const theoryContent = document.getElementById('theory-content');
        const calcStage = document.getElementById('calc-stage');
        const narrator = document.getElementById('narrator');

        async function runSimulation(factor) {
            const inputVal = document.getElementById('inpNumber').value;
            const number = parseInt(inputVal);
            if (!number) { narrator.innerText = "LÃ¼tfen bir sayÄ± girin!"; return; }

            // Temizlik
            theoryContent.innerHTML = '';
            calcStage.innerHTML = '';

            // --- 1. TEORÄ°: SayÄ±larÄ± ParÃ§alarÄ±na AyÄ±r ve 10'a Tamamla ---
            narrator.innerText = `${factor} sayÄ±sÄ± ile Ã§arpmak zordur. Gelin onu 10'un katlarÄ±na Ã§evirelim!`;
            
            let fivesCount = 0;
            if(factor === 5) fivesCount = 1;
            if(factor === 25) fivesCount = 2; // 5x5
            if(factor === 125) fivesCount = 3; // 5x5x5

            // BaloncuklarÄ± oluÅŸtur: 5, 5, 5
            for(let i=0; i<fivesCount; i++) {
                let d = document.createElement('div');
                d.className = 'bubble';
                d.innerText = '5';
                d.id = `bubble-${i}`;
                
                // YardÄ±mcÄ± 2'yi oluÅŸtur (Gizli)
                let h = document.createElement('div');
                h.className = 'helper-2';
                h.innerText = 'x2';
                h.id = `helper-${i}`;
                d.appendChild(h);

                theoryContent.appendChild(d);
                
                if(i < fivesCount-1) {
                    let x = document.createElement('span');
                    x.innerText = 'x';
                    theoryContent.appendChild(x);
                }
            }

            await wait(1500);

            // "2" ile Ã§arpma animasyonu
            narrator.innerHTML = `Her <b>5</b>'in yanÄ±na bir <b>2</b> (yardÄ±mcÄ±) Ã§aÄŸÄ±ralÄ±m. <br>BÃ¶ylece hepsi <b>10</b> olur!`;

            for(let i=0; i<fivesCount; i++) {
                let helper = document.getElementById(`helper-${i}`);
                let bubble = document.getElementById(`bubble-${i}`);
                
                // 2 yukarÄ±dan dÃ¼ÅŸer
                helper.style.opacity = '1';
                helper.style.top = '10px'; 
                
                await wait(800);
                
                // BirleÅŸme (Morph)
                helper.style.opacity = '0';
                bubble.innerText = '10';
                bubble.classList.add('merged');
            }

            await wait(1000);
            
            // SonuÃ§ Metni
            let finalMult = Math.pow(10, fivesCount);
            let totalDivisor = Math.pow(2, fivesCount);
            narrator.innerHTML = `Harika! SayÄ±mÄ±z <b>${finalMult}</b> oldu. <br>Ama iÅŸlemi dengelemek iÃ§in ana sayÄ±mÄ±zÄ± <b>${fivesCount} kere 2'ye bÃ¶lmeliyiz</b> (Toplam ${totalDivisor}'e bÃ¶lmek).`;

            await wait(3000);

            // --- 2. HESAPLAMA: AdÄ±m AdÄ±m BÃ¶lme ---
            narrator.innerText = "Åžimdi iÅŸlemi yapalÄ±m.";
            calcStage.innerHTML = ''; // Temizle

            // SayÄ±yÄ± geniÅŸlet (SÄ±fÄ±r ekle)
            let expandedNumber = number * finalMult;
            let currentVal = expandedNumber;
            
            // AdÄ±m 1: SÄ±fÄ±r Ekleme GÃ¶sterimi
            let step0 = document.createElement('div');
            step0.className = 'calc-line show';
            step0.innerHTML = `${number} x ${finalMult} = <span class="highlight-num">${expandedNumber}</span>`;
            calcStage.appendChild(step0);
            
            await wait(2000);

            // Zincirleme BÃ¶lme DÃ¶ngÃ¼sÃ¼
            // KullanÄ±cÄ± isteÄŸi: 8760 : 2 = 4380 formatÄ±nda
            
            for(let k=1; k<=fivesCount; k++) {
                let result = currentVal / 2;
                
                let stepDiv = document.createElement('div');
                stepDiv.className = 'calc-line';
                
                // Format: 8760 : 2 = 4380
                stepDiv.innerHTML = `<span class="highlight-num">${currentVal}</span> : <span class="divider-num">2</span> = ${result}`;
                calcStage.appendChild(stepDiv);

                // Animasyon tetikle
                await wait(100); 
                stepDiv.classList.add('show');
                
                if(fivesCount > 1) {
                    narrator.innerText = `${k}. bÃ¶lme iÅŸlemi (YarÄ±sÄ±nÄ± alÄ±yoruz)...`;
                } else {
                    narrator.innerText = `YarÄ±sÄ±nÄ± aldÄ±k ve bitti!`;
                }

                currentVal = result;
                await wait(2500);
            }

            narrator.innerHTML = `ðŸŽ‰ SONUÃ‡: <b>${number} x ${factor} = ${currentVal}</b>`;
        }

        function wait(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
    </script>
</body>
</html>
