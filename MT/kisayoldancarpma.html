<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sihirli DÃ¶nÃ¼ÅŸÃ¼m LaboratuvarÄ±</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&display=swap');

        body {
            font-family: 'Fredoka', sans-serif;
            background-color: #fce4ec; /* AÃ§Ä±k pembe arka plan */
            color: #4a4a4a;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        h1 { color: #c2185b; margin-bottom: 10px; text-align: center; }

        .main-card {
            background: white;
            width: 100%;
            max-width: 900px;
            border-radius: 20px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            padding: 20px;
            border: 4px solid #f8bbd0;
        }

        /* Kontrol Paneli */
        .controls {
            background: #fff9c4;
            padding: 15px;
            border-radius: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        input {
            padding: 10px;
            font-size: 1.4rem;
            width: 100px;
            text-align: center;
            border: 2px solid #fbc02d;
            border-radius: 10px;
            color: #f57f17;
            font-weight: bold;
            font-family: inherit;
        }

        button {
            padding: 10px 20px;
            font-size: 1.2rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            color: white;
            font-weight: bold;
            transition: transform 0.2s;
            box-shadow: 0 4px 0 rgba(0,0,0,0.2);
        }
        button:active { transform: translateY(4px); box-shadow: none; }
        
        .btn-5 { background: #ff7043; }   /* Turuncu */
        .btn-25 { background: #66bb6a; }  /* YeÅŸil */
        .btn-50 { background: #29b6f6; }  /* Mavi */
        .btn-125 { background: #ab47bc; } /* Mor */

        /* AÃ§Ä±klama Balonu */
        #narrator {
            background: #e1f5fe;
            color: #01579b;
            padding: 15px;
            border-radius: 15px;
            text-align: center;
            font-size: 1.3rem;
            margin-bottom: 20px;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px dashed #4fc3f7;
        }

        /* DÃ–NÃœÅÃœM SAHNESÄ° (5 -> 10) */
        .transform-stage {
            height: 200px;
            background: #fafafa;
            border: 3px dashed #bdbdbd;
            border-radius: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .bubble-container {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .ball {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2rem;
            color: white;
            font-weight: bold;
            position: relative;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 5px 10px rgba(0,0,0,0.2);
        }

        .ball-5 { background: #ff7043; } /* 5 Rengi */
        .ball-10 { background: #1976d2; transform: scale(1.1); } /* 10 Rengi */
        
        /* DÃ¼ÅŸen x2 topu */
        .helper-2 {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #4caf50; /* YardÄ±mcÄ± yeÅŸil */
            color: white;
            position: absolute;
            top: -50px; /* YukarÄ±da gizli */
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1rem;
            z-index: 10;
            transition: top 0.8s ease-in;
        }

        /* HESAPLAMA SAHNESÄ° */
        .calc-stage {
            background: #37474f;
            color: white;
            padding: 20px;
            border-radius: 15px;
            font-family: 'Courier New', monospace;
            font-size: 2rem;
            min-height: 150px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 15px;
        }

        .calc-step {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s;
        }
        .calc-step.show { opacity: 1; transform: translateY(0); }

        .highlight-zeros { color: #ffeb3b; font-weight: bold; }
        .highlight-div { color: #f06292; font-weight: bold; }

    </style>
</head>
<body>

    <h1>âœ¨ 5'leri 10 Yapma Oyunu</h1>

    <div class="main-card">
        <div class="controls">
            <label>SayÄ±n kaÃ§?</label>
            <input type="number" id="inpNumber" value="12" placeholder="SayÄ±">
            <div>
                <button class="btn-5" onclick="startMagic(5)">x 5</button>
                <button class="btn-25" onclick="startMagic(25)">x 25</button>
                <button class="btn-50" onclick="startMagic(50)">x 50</button>
                <button class="btn-125" onclick="startMagic(125)">x 125</button>
            </div>
        </div>

        <div id="narrator">Ã‡arpmak istediÄŸin sayÄ±yÄ± seÃ§!</div>

        <div class="transform-stage" id="transformArea">
            <div style="color:#aaa;">DÃ¶nÃ¼ÅŸÃ¼m burada olacak...</div>
        </div>

        <div class="calc-stage" id="calcArea">
            <div style="font-size:1rem; color:#b0bec5;">Ä°ÅŸlem TahtasÄ±</div>
        </div>
    </div>

    <script>
        const narrator = document.getElementById('narrator');
        const transformArea = document.getElementById('transformArea');
        const calcArea = document.getElementById('calcArea');

        async function startMagic(factor) {
            const inputVal = document.getElementById('inpNumber').value;
            const userNumber = parseInt(inputVal);

            if (!userNumber) {
                narrator.innerText = "LÃ¼tfen Ã¶nce bir sayÄ± gir!";
                return;
            }

            // Temizle
            transformArea.innerHTML = '';
            calcArea.innerHTML = '';

            // --- AYARLAR ---
            let config = {};
            if (factor === 5) {
                config = { balls: [5], multiplier: 10, divideBy: 2, zeros: "0" };
            } else if (factor === 25) {
                config = { balls: [5, 5], multiplier: 100, divideBy: 4, zeros: "00" };
            } else if (factor === 50) {
                // 50 Ã¶zel durum: 50 bir tane 5 deÄŸildir, o yÃ¼zden onu Ã¶zel iÅŸleyeceÄŸiz.
                config = { balls: [50], multiplier: 100, divideBy: 2, zeros: "00" };
            } else if (factor === 125) {
                config = { balls: [5, 5, 5], multiplier: 1000, divideBy: 8, zeros: "000" };
            }

            // --- ADIM 1: BALONLARI DÄ°Z ---
            narrator.innerText = `${factor} ile Ã§arpmak zor. Gelin bu sayÄ±larÄ± "10, 100 veya 1000" yapalÄ±m!`;
            
            const container = document.createElement('div');
            container.className = 'bubble-container';
            transformArea.appendChild(container);

            // BalonlarÄ± oluÅŸtur
            for (let i = 0; i < config.balls.length; i++) {
                let ballVal = config.balls[i];
                let ballWrapper = document.createElement('div');
                ballWrapper.style.position = 'relative';
                ballWrapper.style.display = 'flex';
                ballWrapper.style.justifyContent = 'center';

                let ball = document.createElement('div');
                ball.className = `ball ball-5`;
                if(ballVal === 50) ball.style.backgroundColor = '#29b6f6'; // 50 rengi mavi olsun
                ball.innerText = ballVal;
                ball.id = `ball-${i}`;
                
                // YardÄ±mcÄ± x2 topunu oluÅŸtur (Gizli)
                let helper = document.createElement('div');
                helper.className = 'helper-2';
                helper.innerText = 'x2';
                helper.id = `helper-${i}`;
                
                ballWrapper.appendChild(helper);
                ballWrapper.appendChild(ball);
                container.appendChild(ballWrapper);

                // Araya Ã§arpÄ± iÅŸareti koy (Sonuncusu hariÃ§)
                if (i < config.balls.length - 1) {
                    let sign = document.createElement('div');
                    sign.innerText = 'x';
                    sign.style.fontSize = '2rem';
                    sign.style.color = '#bdbdbd';
                    container.appendChild(sign);
                }
            }

            await wait(1500);

            // --- ADIM 2: YARDIMCILARI Ã‡AÄIR (x2) ---
            narrator.innerHTML = `Bu sayÄ±larÄ± yuvarlamak iÃ§in dÄ±ÅŸarÄ±dan <b>"x2"</b> yardÄ±mcÄ±larÄ± Ã§aÄŸÄ±rmalÄ±yÄ±z!`;
            
            for (let i = 0; i < config.balls.length; i++) {
                let helper = document.getElementById(`helper-${i}`);
                let ball = document.getElementById(`ball-${i}`);

                // Top dÃ¼ÅŸsÃ¼n
                helper.style.top = '20px'; // Balonun Ã¼zerine iner
                
                await wait(600);
                
                // BirleÅŸme Efekti
                helper.style.opacity = '0'; // Kaybol
                
                // SayÄ± deÄŸiÅŸsin
                if (config.balls[i] === 5) {
                    ball.innerText = '10';
                    ball.classList.add('ball-10');
                } else if (config.balls[i] === 50) {
                    ball.innerText = '100';
                    ball.style.backgroundColor = '#1565c0'; // Koyu mavi
                    ball.style.transform = 'scale(1.1)';
                }
            }

            await wait(1000);

            // --- ADIM 3: BEDEL Ã–DEME (NEDEN BÃ–LÃœYORUZ?) ---
            let totalHelpers = Math.pow(2, config.balls.length);
            // 50 iÃ§in Ã¶zel durum: tek bir 2 kullandÄ±k.
            if(factor === 50) totalHelpers = 2;

            narrator.innerHTML = `SayÄ±larÄ± bÃ¼yÃ¼ttÃ¼k (${config.multiplier} yaptÄ±k).<br> Ama <b>${config.divideBy} ile Ã§arptÄ±ÄŸÄ±mÄ±z</b> iÃ§in sonucu dengelemek adÄ±na <b>${config.divideBy}'ye bÃ¶lmeliyiz!</b>`;

            await wait(3000);

            // --- ADIM 4: Ä°ÅLEM TAHTASI ---
            narrator.innerText = "Åimdi iÅŸlemi yapalÄ±m.";
            
            // SatÄ±r 1: SayÄ±yÄ± bÃ¼yÃ¼t (SÄ±fÄ±r ekle)
            let expandedNum = userNumber * config.multiplier;
            
            let line1 = document.createElement('div');
            line1.className = 'calc-step';
            line1.innerHTML = `1. AdÄ±m: ${userNumber} yanÄ±na sÄ±fÄ±rlarÄ± koy <br>â <span class="highlight-zeros">${userNumber}${config.zeros}</span>`;
            calcArea.appendChild(line1);
            
            await wait(100);
            line1.classList.add('show');

            await wait(2000);

            // SatÄ±r 2: BÃ¶lme
            let finalRes = expandedNum / config.divideBy;
            
            let line2 = document.createElement('div');
            line2.className = 'calc-step';
            line2.innerHTML = `2. AdÄ±m: ${config.divideBy}'ye bÃ¶l <br>â ${expandedNum} : <span class="highlight-div">${config.divideBy}</span> = ${finalRes}`;
            calcArea.appendChild(line2);
            
            await wait(100);
            line2.classList.add('show');

            // Final Kutlama
            await wait(1500);
            narrator.innerHTML = `ğŸ‰ Ä°ÅŸte bu kadar! <b>${userNumber} x ${factor} = ${finalRes}</b>`;
        }

        function wait(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
    </script>
</body>
</html>
