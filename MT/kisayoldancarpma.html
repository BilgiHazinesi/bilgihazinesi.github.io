<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AdÄ±m AdÄ±m KÄ±sayol Ã‡arpma</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap');

        body {
            font-family: 'Comic Neue', cursive; /* Okul/tahta hissi iÃ§in */
            background-color: #f4f6f7;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            color: #2c3e50;
        }

        h1 { margin-bottom: 10px; color: #d35400; }

        .container {
            width: 100%;
            max-width: 900px;
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 20px;
            background: #ecf0f1;
            padding: 15px;
            border-radius: 15px;
        }

        input {
            padding: 10px;
            font-size: 1.5rem;
            width: 100px;
            text-align: center;
            border: 2px solid #bdc3c7;
            border-radius: 10px;
            font-family: inherit;
        }

        button {
            padding: 10px 20px;
            font-size: 1.2rem;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            color: white;
            font-weight: bold;
            transition: transform 0.1s;
        }
        button:active { transform: scale(0.95); }
        .btn-5 { background: #e67e22; }
        .btn-25 { background: #27ae60; }
        .btn-50 { background: #2980b9; }

        /* MANTIK ALANI (Neden bÃ¶lÃ¼yoruz?) */
        #logic-stage {
            border: 3px dashed #bdc3c7;
            border-radius: 15px;
            padding: 20px;
            min-height: 150px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            background: #fffbea;
        }

        .block-container { display: flex; gap: 5px; align-items: center; }
        .block {
            width: 60px;
            height: 60px;
            background: #e67e22;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            border-radius: 8px;
            transition: all 0.5s;
        }
        .block.ghost {
            background: #bdc3c7;
            border: 2px dashed #7f8c8d;
            color: #7f8c8d;
        }
        .logic-text {
            font-size: 1.3rem;
            margin-top: 15px;
            text-align: center;
            color: #7f8c8d;
        }

        /* Ä°ÅžLEM ALANI (Bakkal BÃ¶lmesi) */
        #calc-stage {
            background: #2c3e50; /* Karatahta rengi */
            color: white;
            padding: 30px;
            border-radius: 15px;
            min-height: 300px;
            font-family: 'Courier New', monospace;
            font-size: 2rem;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: flex-start;
        }

        .division-layout {
            display: grid;
            grid-template-columns: max-content max-content max-content;
            grid-template-rows: max-content max-content;
            gap: 5px;
            text-align: right;
        }

        .dividend { padding-right: 15px; } /* BÃ¶lÃ¼nen */
        .divisor-line { 
            border-left: 3px solid white; 
            border-bottom: 3px solid white; 
            padding-left: 10px;
            padding-bottom: 5px;
            text-align: left;
        } /* BÃ¶len ve Ã§izgi */
        .quotient { 
            border-left: 3px solid white; 
            padding-left: 10px; 
            padding-top: 5px;
            text-align: left;
            color: #f1c40f; /* SonuÃ§ sarÄ± */
        } /* BÃ¶lÃ¼m */
        
        .work-area {
            grid-column: 1;
            text-align: right;
            padding-right: 15px;
            white-space: pre;
        }

        .highlight { color: #e74c3c; font-weight: bold; } /* Ä°ÅŸlem yapÄ±lan rakam */
        
        #narrator {
            margin-top: 20px;
            font-size: 1.4rem;
            text-align: center;
            background: #dff9fb;
            padding: 15px;
            border-radius: 10px;
            color: #2c3e50;
            min-height: 60px;
            border: 2px solid #c7ecee;
        }

    </style>
</head>
<body>

    <h1>ðŸ§  Zihinden Ä°ÅŸlemlerin SÄ±rrÄ±</h1>

    <div class="container">
        <div class="controls">
            <input type="number" id="inpNumber" value="12" placeholder="SayÄ±">
            <button class="btn-5" onclick="startLesson(5)">x 5</button>
            <button class="btn-25" onclick="startLesson(25)">x 25</button>
            <button class="btn-50" onclick="startLesson(50)">x 50</button>
        </div>

        <div id="logic-stage">
            <div class="logic-text">Bir iÅŸlem seÃ§in, mantÄ±ÄŸÄ±nÄ± gÃ¶relim.</div>
        </div>

        <div id="calc-stage">
            <div class="division-layout" id="div-layout" style="display:none;">
                </div>
        </div>

        <div id="narrator">HazÄ±r mÄ±sÄ±nÄ±z?</div>
    </div>

    <script>
        const logicStage = document.getElementById('logic-stage');
        const divLayout = document.getElementById('div-layout');
        const narrator = document.getElementById('narrator');

        async function startLesson(multiplier) {
            const numInput = document.getElementById('inpNumber').value;
            const number = parseInt(numInput);
            if(!number) return;

            // Ayarlar
            let config = {};
            if(multiplier === 5) config = { base: 10, divide: 2, color: '#e67e22', baseName: '10 (Onluk)' };
            if(multiplier === 25) config = { base: 100, divide: 4, color: '#27ae60', baseName: '100 (YÃ¼zlÃ¼k)' };
            if(multiplier === 50) config = { base: 100, divide: 2, color: '#2980b9', baseName: '100 (YÃ¼zlÃ¼k)' };

            // --- BÃ–LÃœM 1: MANTIK ANLATIMI ---
            narrator.innerText = `${multiplier} ile Ã§arpmak bazen zordur. Gelin hile yapalÄ±m!`;
            logicStage.innerHTML = '';
            divLayout.style.display = 'none';

            // 1. Orijinal bloÄŸu gÃ¶ster
            let container = document.createElement('div');
            container.className = 'block-container';
            let mainBlock = createBlock(multiplier, config.color);
            container.appendChild(mainBlock);
            logicStage.appendChild(container);
            
            await wait(1500);

            // 2. Tamamlama (Ghost Blocks)
            narrator.innerHTML = `${multiplier} sayÄ±sÄ±nÄ± <b>${config.baseName}</b> yapmak Ã§ok kolay!`;
            
            if(multiplier === 5) {
                // 5 -> 10 (1 tane daha lazÄ±m)
                let ghost = createBlock(5, config.color, true);
                container.appendChild(ghost);
                await wait(1000);
                narrator.innerHTML = `Bak! Ä°ki tane 5, bir tane <b>10</b> eder. <br>SayÄ±yÄ± 10 ile Ã§arptÄ±k ama sayÄ± <b>2 katÄ±na</b> Ã§Ä±ktÄ±.`;
            } 
            else if (multiplier === 25) {
                // 25 -> 100 (3 tane daha lazÄ±m)
                for(let i=0; i<3; i++) {
                    container.appendChild(createBlock(25, config.color, true));
                    await wait(500);
                }
                narrator.innerHTML = `DÃ¶rt tane 25, bir tane <b>100</b> eder. <br>SayÄ±yÄ± 100 ile Ã§arptÄ±k ama sayÄ± <b>4 katÄ±na</b> Ã§Ä±ktÄ±.`;
            }
             else if (multiplier === 50) {
                 let ghost = createBlock(50, config.color, true);
                container.appendChild(ghost);
                await wait(1000);
                narrator.innerHTML = `Ä°ki tane 50, bir tane <b>100</b> eder. <br>SayÄ±yÄ± 100 ile Ã§arptÄ±k ama sayÄ± <b>2 katÄ±na</b> Ã§Ä±ktÄ±.`;
             }

            await wait(2000);
            narrator.innerHTML = `Sonucu dÃ¼zeltmek iÃ§in bulduÄŸumuz cevabÄ± <b>${config.divide}'ye bÃ¶lmeliyiz!</b>`;
            
            // --- BÃ–LÃœM 2: Ä°ÅžLEM ANÄ°MASYONU ---
            await wait(2000);
            
            const expandedNum = number * config.base; // Ã–rn: 12 -> 120
            animateDivision(expandedNum, config.divide);
        }

        function createBlock(text, color, isGhost=false) {
            let d = document.createElement('div');
            d.className = 'block ' + (isGhost ? 'ghost' : '');
            d.innerText = text;
            d.style.backgroundColor = isGhost ? 'transparent' : color;
            return d;
        }

        async function animateDivision(dividend, divisor) {
            divLayout.style.display = 'grid';
            divLayout.innerHTML = ''; // Temizle
            
            narrator.innerText = `Ã–nce sayÄ±nÄ±n sonuna sÄ±fÄ±rlarÄ± ekledik: ${dividend}. Åžimdi ${divisor}'ye bÃ¶lÃ¼yoruz.`;

            // HTML YapÄ±sÄ±nÄ± Kur
            // Grid: 
            // [BÃ¶lÃ¼nen] [Ã‡izgi/BÃ¶len]
            // [Ä°ÅŸlem]   [BÃ¶lÃ¼m]
            
            const divDividend = document.createElement('div');
            divDividend.className = 'dividend';
            divDividend.innerText = dividend; // Ã–rn: 120
            
            const divDivisorLine = document.createElement('div');
            divDivisorLine.className = 'divisor-line';
            divDivisorLine.innerText = divisor; // Ã–rn: 2

            const divWork = document.createElement('div');
            divWork.className = 'work-area';
            divWork.id = 'work-area';

            const divQuotient = document.createElement('div');
            divQuotient.className = 'quotient';
            divQuotient.id = 'quotient-res';
            divQuotient.innerText = '';

            divLayout.appendChild(divDividend);
            divLayout.appendChild(divDivisorLine);
            divLayout.appendChild(divWork);
            divLayout.appendChild(divQuotient);

            // --- ALGORÄ°TMA BAÅžLIYOR ---
            let dividendStr = dividend.toString();
            let currentPart = "";
            let quotientStr = "";
            let stepText = ""; // Work area text

            // Basamak basamak ilerle
            for(let i=0; i < dividendStr.length; i++) {
                let digit = dividendStr[i];
                currentPart += digit;
                let currentNum = parseInt(currentPart);

                // GÃ¶rsel Vurgu: Hangi rakamÄ± indirdik?
                narrator.innerHTML = `SÄ±radaki rakam: <b>${digit}</b>. Åžu an elimizde <b>${currentNum}</b> var.`;
                await wait(1500);

                if (currentNum < divisor) {
                    // BÃ¶lÃ¼nmÃ¼yorsa (ve bu ilk rakam deÄŸilse veya sonda 0 varsa)
                    // Genellikle baÅŸta bÃ¶lÃ¼nmezse pas geÃ§eriz, ama aradaysa 0 atarÄ±z.
                    if (i > 0 && currentNum === 0) { 
                        quotientStr += "0";
                        divQuotient.innerText = quotientStr;
                        narrator.innerHTML = `${currentNum} iÃ§inde ${divisor} yok. BÃ¶lÃ¼me <b>0</b> yazÄ±yoruz.`;
                        await wait(1500);
                    }
                    // Bir sonraki rakamÄ± bekle
                    continue;
                }

                // BÃ¶lÃ¼nÃ¼yorsa
                let q = Math.floor(currentNum / divisor);
                let remainder = currentNum % divisor;
                let product = q * divisor;

                quotientStr += q;
                divQuotient.innerText = quotientStr;
                narrator.innerHTML = `${currentNum} iÃ§inde ${divisor}, <b>${q}</b> kere var. (${q} x ${divisor} = ${product})`;
                await wait(1500);

                // Ã‡Ä±karma Ä°ÅŸlemini GÃ¶ster
                // Work area'ya ekleme yapmalÄ±yÄ±z. Bu kÄ±sÄ±m basit bir simÃ¼lasyon olacak.
                // CSS ile hizalamak zor olduÄŸu iÃ§in basit metin tabanlÄ± ekliyoruz.
                
                // EÄŸer bu ilk iÅŸlemse, doÄŸrudan alta yaz, deÄŸilse hizalama gerekir.
                // Burada basitlik adÄ±na "Ã‡Ä±karma" adÄ±mÄ±nÄ± sÃ¶zel ve gÃ¶rsel tek satÄ±r gÃ¶stereceÄŸiz.
                
                let spacing = " ".repeat(i); // Basit hizalama
                let subStep = `\n${product}\n-____\n   ${remainder}`;
                
                // Eski usÃ¼l alt alta yazma simÃ¼lasyonu (biraz hileli ama 4. sÄ±nÄ±f iÃ§in gÃ¶rsel yeterli)
                // Bu Ã¶rnekte work-area'yÄ± her adÄ±mda gÃ¼ncellemek yerine sadece aktif adÄ±mÄ± gÃ¶sterelim mi?
                // HayÄ±r, birikimli gitsin.
                
                // Basit gÃ¶sterim:
                let prevContent = divWork.innerText;
                // Hizalama boÅŸluÄŸu hesaplama (kabaca)
                let visualPadding = ""; 
                for(let k=0; k < dividendStr.length - (i+1); k++) visualPadding += " ";
                
                divWork.innerText = prevContent + `\n -${product} \n ----- \n   ${remainder}`;
                
                narrator.innerHTML = `${currentNum}'den ${product} Ã§Ä±ktÄ±, <b>${remainder}</b> kaldÄ±.`;
                
                currentPart = remainder.toString();
                if(currentPart === "0") currentPart = ""; // Kalan 0 ise temizle, sonraki rakam gelsin
                
                await wait(2000);
            }

            narrator.innerHTML = `ðŸŽ‰ Ä°ÅŸlem Tamam! SonuÃ§: <b>${quotientStr}</b>`;
        }

        function wait(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
    </script>
</body>
</html>
