<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Türkçesi Varken! - Bilgi Hazinesi</title>
    
    <base href="https://bilgihazinesi.github.io/">

    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700&family=Crimson+Pro:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="stiller/stil.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <style>
        /* Bu sayfaya özel stiller, ana temanıza uyumlu */
        :root {
            --memory-card-bg: #e6dccb;
            --memory-card-matched-bg: #c8e6c9; /* Eşleşme rengi */
            --memory-card-matched-text: #2e7d32; /* Eşleşme yazı rengi */
        }

        body {
            font-family: 'Crimson Pro', serif;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            text-align: center;
            padding: 20px;
        }
        header h1 a {
            font-family: 'Cinzel Decorative', cursive;
            color: var(--text-primary-color);
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-decoration: none;
        }
        header p {
            font-size: 1.1rem;
            margin-bottom: 30px;
            color: var(--text-secondary-color);
        }
        .tabs {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
        }
        .tab-button {
            padding: 12px 25px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background-color: var(--papyrus-bg-color-dark);
            color: var(--text-secondary-color);
            font-size: 1rem;
            font-family: 'Crimson Pro', serif;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .tab-button.active, .tab-button:hover {
            background-color: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
        }
        .activity-content { display: none; }
        .activity-content.active { display: block; }
        
        /* Kartları Öğrenelim */
        #learn-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 20px;
            perspective: 1000px;
        }
        .card {
            background-color: transparent;
            height: 120px;
            border-radius: 12px;
            cursor: pointer;
            position: relative;
        }
        .card-face-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }
        .card.is-flipped .card-face-inner {
            transform: rotateY(180deg);
        }
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 15px;
            border: 1px solid var(--border-color);
            border-radius: 12px;
            box-shadow: var(--shadow-color);
            font-size: 1.2rem;
            font-weight: 700;
            flex-direction: column;
            box-sizing: border-box;
        }
        .card-front {
            background: var(--papyrus-bg-color-dark);
            color: var(--text-primary-color);
        }
        .card-back {
            background: var(--active-bg-color);
            color: var(--text-primary-color);
            transform: rotateY(180deg);
        }
        .card-back span { display: block; }

        /* Quiz Bölümleri */
        .quiz-card {
            background-color: var(--papyrus-bg-color-dark);
            padding: 25px;
            border-radius: 12px;
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow-color);
            margin: 0 auto 20px auto;
            max-width: 600px;
        }
        .question { font-size: 1.2rem; margin-bottom: 20px; line-height: 1.5; }
        
        /* Cümlelerdeki yabancı kelimeyi vurgulama stili */
        .question strong {
            color: var(--accent-color);
            font-weight: 900;
            background-color: var(--active-bg-color);
            padding: 2px 6px;
            border-radius: 5px;
        }
        
        #fill-blanks input {
            width: 100%;
            padding: 10px;
            border: 2px solid var(--border-color);
            background: var(--papyrus-bg-color-light);
            border-radius: 8px;
            font-size: 1.1rem;
            font-family: 'Crimson Pro', serif;
            text-align: center;
            box-sizing: border-box;
        }
        
        #sentence-quiz .options { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 10px; 
            margin-top: 15px; 
        }
        #sentence-quiz .option-btn {
            width: 100%;
            background-color: var(--papyrus-bg-color-dark);
            border: 2px solid var(--accent-color);
            color: var(--accent-color);
            border-radius: 8px;
            padding: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        #sentence-quiz .option-btn:hover { background-color: var(--accent-color); color: white; }
        #sentence-quiz .option-btn.correct { background-color: #66bb6a; color: white; border-color: #66bb6a; }
        #sentence-quiz .option-btn.wrong { background-color: #ef5350; color: white; border-color: #ef5350; }
        #sentence-quiz .option-btn:disabled { cursor: not-allowed; opacity: 0.7; }

        .quiz-buttons { margin-top: 20px; display: flex; justify-content: center; gap: 15px; }
        .quiz-btn { 
            padding: 10px 20px; 
            border: none; 
            border-radius: 8px; 
            font-size: 1rem; 
            font-family: 'Crimson Pro', serif; 
            font-weight: 600; 
            cursor: pointer; 
            transition: background 0.2s; 
        }
        .check-btn { background-color: var(--accent-color); color: white; }
        .next-btn { background-color: var(--text-secondary-color); color: white; }
        .feedback { font-weight: 700; margin-top: 15px; min-height: 24px; }
        .correct { color: #2e7d32; }
        .wrong { color: #c62828; }
        
        /* Akılda Tut Oyunu Stilleri */
        #memory-setup { margin-bottom: 30px; }
        #memory-setup h2 { font-family: 'Cinzel Decorative', cursive; }
        #memory-status { margin-bottom: 20px; font-size: 1.2rem; font-weight: 700; min-height: 30px;}
        
        #memory-grid {
            display: grid;
            /* grid-template-columns JS tarafından ayarlanacak */
            gap: 10px;
            max-width: 800px; /* Geniş ekranlar için limit */
            margin: auto;
            perspective: 1000px;
        }
        .memory-card {
            aspect-ratio: 4 / 5; /* Kart en-boy oranı */
            height: auto;
            cursor: pointer;
            position: relative;
        }
        .memory-card .card-face-inner { transform: rotateY(0); }
        .memory-card.is-flipped .card-face-inner { transform: rotateY(180deg); }
        .memory-card.is-matched { cursor: default; }
        
        /* EŞLEŞEN KARTLARIN AÇIK KALMASINI SAĞLAYAN KURAL */
        .memory-card.is-matched .card-face-inner {
            transform: rotateY(180deg); /* Açık kal */
        }

        .memory-card .card-front {
            background: var(--memory-card-bg);
            /* Soru işareti simgesi ekranla birlikte büyüyecek */
            font-size: clamp(2rem, 10vw, 3.5rem); 
            color: var(--accent-color);
        }
        .memory-card .card-back {
             background: var(--papyrus-bg-color-light);
             /* YAZI TİPİ DİNAMİK OLARAK AYARLANDI */
             font-size: clamp(0.9rem, 4vw, 1.5rem); /* Ekranla büyüyen yazı */
             font-weight: 700;
             word-break: break-word; /* Uzun kelimeler için */
             padding: 5px; /* İçeriğin sığması için */
             line-height: 1.2;
             display: flex;
             justify-content: center;
             align-items: center;
        }

        /* Eşleşen kartların stilini ayarla (Hem ön hem arka yüz) */
        .memory-card.is-matched .card-back,
        .memory-card.is-matched .card-front {
            background-color: var(--memory-card-matched-bg);
            border: 2px solid var(--accent-color);
            color: var(--memory-card-matched-text);
        }

        /* MOBİL UYUMLULUK GÜNCELLEMELERİ */
        @media (max-width: 768px) {
            header h1 a { font-size: 2rem; }
            header p { font-size: 1rem; }
            .tab-button { padding: 10px 15px; font-size: 0.9rem; }
            .card { height: 100px; }
            .card-front, .card-back { font-size: 1rem; }
            
            #sentence-quiz .options { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <div id="menu-container"></div>

    <div class="container">
        <header>
            <h1><a href="https://bilgihazinesi.github.io/">Türkçesi Varken!</a></h1>
            <p>Yabancı kelimeler yerine dilimizin zenginliğindeki Türkçe karşılıklarını kullanalım.</p>
        </header>

        <div class="tabs">
            <button class="tab-button active" onclick="showActivity('learn')">Kartları Öğren</button>
            <button class="tab-button" onclick="showActivity('fill')">Boşluk Doldur</button>
            <button class="tab-button" onclick="showActivity('sentence')">Cümle Tamamla</button>
            <button class="tab-button" onclick="showActivity('memory')">Akılda Tut</button>
        </div>

        <main>
            <div id="learn" class="activity-content active">
                <div id="learn-cards"></div>
            </div>

            <div id="fill" class="activity-content">
                <div id="fill-blanks">
                    <div class="quiz-card">
                        <p class="question" id="fill-question">Soru yükleniyor...</p>
                        <input type="text" id="fill-answer" placeholder="Türkçesini yazın...">
                        <p class="feedback" id="fill-feedback"></p>
                         <div class="quiz-buttons">
                            <button class="quiz-btn check-btn" onclick="fillBlanks.checkAnswer()">Kontrol Et</button>
                            <button class="quiz-btn next-btn" onclick="fillBlanks.loadQuestion()">Sonraki</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="sentence" class="activity-content">
                <div id="sentence-quiz">
                     <div class="quiz-card">
                        <p class="question" id="sentence-question">Soru yükleniyor...</p>
                        <div class="options" id="sentence-options"></div>
                        <p class="feedback" id="sentence-feedback"></p>
                        <div class="quiz-buttons">
                           <button class="quiz-btn next-btn" onclick="sentenceQuiz.loadQuestion()">Sonraki Soru</button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="memory" class="activity-content">
                <div id="memory-setup">
                    <h2>Oyun Modunu Seç</h2>
                    <button class="quiz-btn check-btn" onclick="memoryGame.init('single')">Tek Kişilik</button>
                    <button class="quiz-btn check-btn" onclick="memoryGame.init('twoPlayer')">İki Kişilik</button>
                </div>

                <div id="memory-game-area" style="display: none;">
                    <div id="memory-status"></div>
                    <div id="memory-grid"></div>
                    <div class="quiz-buttons">
                        <button class="quiz-btn next-btn" onclick="memoryGame.reset()">Yeni Oyun</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // KELİME LİSTESİ
        const wordsData = [
            { "yabanci": "Absürt", "turkce": ["Saçma", "Anlamsız"], "cumle": "Bu fikir bana çok absürt geldi." },
            { "yabanci": "Laptop", "turkce": ["Dizüstü bilgisayar"], "cumle": "İş için yeni bir laptop almam gerekiyor." },
            { "yabanci": "Jenerasyon", "turkce": ["Kuşak", "Soy"], "cumle": "Yeni jenerasyon teknolojiyle iç içe büyüyor." },
            { "yabanci": "Defans", "turkce": ["Savunma"], "cumle": "Takımın defans hattı çok güçlü." },
            { "yabanci": "Stil", "turkce": ["Üslup", "Biçem"], "cumle": "Onun giyim stilini çok beğeniyorum." },
            { "yabanci": "Star", "turkce": ["Yıldız"], "cumle": "O, filmin parlayan starıydı." },
            { "yabanci": "Filtre", "turkce": ["Süzgeç"], "cumle": "Kahve yapmak için kağıt filtre kullandı." },
            { "yabanci": "Antipatik", "turkce": ["Sevimsiz"], "cumle": "Antipatik tavırları yüzünden kimse onu sevmiyor." },
            { "yabanci": "Galeri", "turkce": ["Sergi"], "cumle": "Yeni sanat galerisi yarın açılıyor." },
            { "yabanci": "Spiker", "turkce": ["Sunucu"], "cumle": "Haber spikeri olayı sakince anlattı." },
            { "yabanci": "Anons", "turkce": ["Duyuru"], "cumle": "Kaptan uçağın kalkışı için anons yaptı." },
            { "yabanci": "Ofis", "turkce": ["İş yeri"], "cumle": "Bu sabah ofise biraz geç kaldım." },
            { "yabanci": "Dizayn", "turkce": ["Tasarım"], "cumle": "Evin iç dizaynı çok modern." },
            { "yabanci": "Agresif", "turkce": ["Saldırgan", "Sinirli"], "cumle": "Trafikte bu kadar agresif olmaya gerek yok." },
            { "yabanci": "Kaos", "turkce": ["Kargaşa"], "cumle": "Olaydan sonra şehirde tam bir kaos hakimdi." },
            { "yabanci": "Mouse", "turkce": ["Fare"], "cumle": "Bilgisayarın mouse'u bozuldu." },
            { "yabanci": "Link", "turkce": ["Bağlantı"], "cumle": "Sana haberin linkini gönderdim." },
            { "yabanci": "Spontane", "turkce": ["Kendiliğinden"], "cumle": "Toplantı spontane bir şekilde gelişti." },
            { "yabanci": "Exit", "turkce": ["Çıkış"], "cumle": "Sinema salonunun exit kapısı nerede?" },
            { "yabanci": "Aktivite", "turkce": ["Etkinlik"], "cumle": "Hafta sonu için eğlenceli bir aktivite planladık." },
            { "yabanci": "Trend", "turkce": ["Eğilim"], "cumle": "Bu sene yeşil renk çok trend oldu." },
            { "yabanci": "Okey", "turkce": ["Tamam"], "cumle": "Planı anlattım, o da \"okey\" dedi." },
            { "yabanci": "Selfie", "turkce": ["Öz çekim"], "cumle": "Manzarayı arkamıza alıp bir selfie çektik." },
            { "yabanci": "Şov", "turkce": ["Gösteri"], "cumle": "Televizyondaki yetenek şovunu izledik." },
            { "yabanci": "Aroma", "turkce": ["Hoş koku"], "cumle": "Bu kahvenin harika bir aroması var." },
            { "yabanci": "Abes", "turkce": ["Anlamsız"], "cumle": "Böyle bir zamanda gülmek çok abes kaçtı." },
            { "yabanci": "Abluka", "turkce": ["Kuşatma"], "cumle": "Polis, binayı abluka altına aldı." },
            { "yabanci": "Adapte", "turkce": ["Uyum"], "cumle": "Yeni okuluma çabuk adapte oldum." },
            { "yabanci": "Adi", "turkce": ["Sıradan"], "cumle": "Bu, adi bir taklit gibi duruyor." },
            { "yabanci": "Adisyon", "turkce": ["Hesap"], "cumle": "Garson, lütfen adisyonu getirir misiniz?" },
            { "yabanci": "Aidat", "turkce": ["Ödenti"], "cumle": "Apartman aidatını henüz ödemedim." },
            { "yabanci": "Air bag", "turkce": ["Hava yastığı"], "cumle": "Kazada arabanın air bag'i açıldı." },
            { "yabanci": "Ajanda", "turkce": ["Andaç"], "cumle": "Toplantı tarihini ajandama kaydettim." },
            { "yabanci": "Aksiyon", "turkce": ["Eylem"], "cumle": "Bu film tam bir aksiyon filmiydi." },
            { "yabanci": "Aktif", "turkce": ["Etkin"], "cumle": "Sosyal medyada çok aktif bir kullanıcı." },
            { "yabanci": "Aktüel", "turkce": ["Güncel"], "cumle": "Aktüel haberleri takip etmeyi severim." },
            { "yabanci": "Alfabe", "turkce": ["Abece"], "cumle": "Çocuklar alfabeyi yeni öğreniyor." },
            { "yabanci": "Alternatif", "turkce": ["Seçenek"], "cumle": "Bu yol kapalıysa başka bir alternatif bulmalıyız." },
            { "yabanci": "Amatör", "turkce": ["Özengen"], "cumle": "Amatör bir fotoğrafçı olmasına rağmen harika kareler yakalamış." },
            { "yabanci": "Ambiyans", "turkce": ["Hava"], "cumle": "Restoranın ambiyansı çok romantikti." },
            { "yabanci": "Amblem", "turkce": ["Belirtke"], "cumle": "Takımın yeni amblemi taraftarlarca beğenilmedi." },
            { "yabanci": "Ambulans", "turkce": ["Cankurtaran"], "cumle": "Kaza yerine hemen ambulans çağrıldı." },
            { "yabanci": "Animasyon", "turkce": ["Canlandırma"], "cumle": "Çocuklar bu yeni animasyon filmini çok sevdi." },
            { "yabanci": "Antrenman", "turkce": ["Alıştırma"], "cumle": "Yarın sabah erken saatte antrenmanım var." },
            { "yabanci": "Antrenör", "turkce": ["Çalıştırıcı"], "cumle": "Basketbol antrenörü takıma yeni taktikler verdi." },
            { "yabanci": "Arkeoloji", "turkce": ["Kazıbilim"], "cumle": "Arkeoloji müzelerini gezmeyi çok severim." },
            { "yabanci": "Artist", "turkce": ["Sanatçı"], "cumle": "O, çok ünlü bir artist olmak istiyor." },
            { "yabanci": "Bariyer", "turkce": ["Engel"], "cumle": "Polis, kalabalığı durdurmak için bariyer kurdu." },
            { "yabanci": "Bariz", "turkce": ["Belirgin"], "cumle": "Yalan söylediği çok barizdi." },
            { "yabanci": "Beraat", "turkce": ["Aklanma"], "cumle": "Mahkeme sonunda beraat kararı verdi." },
            { "yabanci": "Best seller", "turkce": ["Çok satan"], "cumle": "Yeni romanı hemen best seller listesine girdi." },
            { "yabanci": "Billboard", "turkce": ["Duyuru tahtası"], "cumle": "Yeni reklamlar şehirdeki billboardları süslüyor." },
            { "yabanci": "Bilhassa", "turkce": ["Özellikle"], "cumle": "Tatlıları severim, bilhassa çikolatalı olanları." },
            { "yabanci": "Biyografi", "turkce": ["Özgeçmiş"], "cumle": "Ünlü bilim insanının biyografisini okudum." },
            { "yabanci": "Blender", "turkce": ["Karıştırıcı"], "cumle": "Çorba yapmak için blender kullanacağım." },
            { "yabanci": "Bodyguard", "turkce": ["Koruma"], "cumle": "Sanatçının bodyguardı kalabalığı yardı." },
            { "yabanci": "Bone", "turkce": ["Başlık"], "cumle": "Havuza girmek için bone takmak zorunlu." },
            { "yabanci": "Bonkör", "turkce": ["Eliaçık"], "cumle": "Çok bonkör bir adam, herkese yardım eder." },
            { "yabanci": "Brifing", "turkce": ["Bilgilendirme"], "cumle": "Toplantıdan önce kısa bir brifing aldık." },
            { "yabanci": "Buton", "turkce": ["Düğme"], "cumle": "Işığı açmak için şu butona basmalısın." },
            { "yabanci": "Call center", "turkce": ["Çağrı merkezi"], "cumle": "Bankanın call centerına bir türlü ulaşamadım." },
            { "yabanci": "Camia", "turkce": ["Topluluk"], "cumle": "Sanat camiası bu sergiye büyük ilgi gösterdi." },
            { "yabanci": "Celse", "turkce": ["Oturum"], "cumle": "Davanın ikinci celsesi haftaya ertelendi." },
            { "yabanci": "Center", "turkce": ["Merkez"], "cumle": "Şehrin centerında buluşalım." },
            { "yabanci": "Cereyan", "turkce": ["Akım"], "cumle": "Cam açık kalınca odada cereyan yaptı." },
            { "yabanci": "Cevap", "turkce": ["Yanıt"], "cumle": "Sorduğum soruya net bir cevap istiyorum." },
            { "yabanci": "Chat", "turkce": ["Sohbet"], "cumle": "Akşam arkadaşlarımla internette chat yaptık." },
            { "yabanci": "Check-up", "turkce": ["Tümtanı"], "cumle": "Yılda bir kez genel check-up yaptırmak önemli." },
            { "yabanci": "Cihaz", "turkce": ["Aygıt"], "cumle": "Bu yeni cihaz mutfakta çok işe yarıyor." },
            { "yabanci": "Data", "turkce": ["Veri"], "cumle": "Rapor için gerekli tüm dataları topladık." },
            { "yabanci": "Deforme", "turkce": ["Bozulma"], "cumle": "Ayakkabıların kutusu taşınırken deforme olmuş." },
            { "yabanci": "Dejenere", "turkce": ["Yozlaşma"], "cumle": "Tartışma giderek dejenere oldu." },
            { "yabanci": "Demo", "turkce": ["Tanıtım"], "cumle": "Programın demo sürümünü ücretsiz indirebilirsiniz." },
            { "yabanci": "Depresyon", "turkce": ["Ruhsal çöküntü"], "cumle": "Zor bir dönemden geçiyor, sanırım depresyonda." },
            { "yabanci": "Dijital", "turkce": ["Sayısal"], "cumle": "Artık fotoğraflarımızı dijital ortamda saklıyoruz." },
            { "yabanci": "Download", "turkce": ["İndirme"], "cumle": "İnternetten müzik download etmek eskisi kadar popüler değil." },
            { "yabanci": "Dublaj", "turkce": ["Seslendirme"], "cumle": "Filmi orijinal dilinde mi yoksa dublajlı mı izleyelim?" },
            { "yabanci": "E-mail", "turkce": ["E-posta"], "cumle": "Size konuyla ilgili bir e-mail gönderdim." },
            { "yabanci": "Editör", "turkce": ["Yayımcı"], "cumle": "Kitabın editörü metinde bazı değişiklikler yaptı." },
            { "yabanci": "Efor", "turkce": ["Çaba"], "cumle": "Bu işi başarmak için çok efor sarf etti." },
            { "yabanci": "Egoist", "turkce": ["Bencil"], "cumle": "O kadar egoist ki sadece kendini düşünüyor." },
            { "yabanci": "Egzersiz", "turkce": ["Alıştırma"], "cumle": "Sağlıklı kalmak için düzenli egzersiz yapmak şart." },
            { "yabanci": "Eksper", "turkce": ["Uzman"], "cumle": "Hasarı tespit etmek için bir eksper geldi." },
            { "yabanci": "Final", "turkce": ["Son"], "cumle": "Turnuvanın final maçı nefes kesti." },
            { "yabanci": "Finish", "turkce": ["Bitiş"], "cumle": "Yarışmacılar finish çizgisine doğru koşuyor." },
            { "yabanci": "Full", "turkce": ["Tam dolu"], "cumle": "Otelin odaları bayramda full doluydu." },
            { "yabanci": "Global", "turkce": ["Küresel"], "cumle": "Salgın, global bir kriz haline geldi." },
            { "yabanci": "Gramer", "turkce": ["Dil bilgisi"], "cumle": "İngilizce gramer kuralları biraz karmaşık." },
            { "yabanci": "Gurme", "turkce": ["Tatbilir"], "cumle": "O, yemek konusunda tam bir gurme sayılır." },
            { "yabanci": "Hacker", "turkce": ["Bilgisayar korsanı"], "cumle": "Bir hacker grubu bankanın sistemine girmeye çalıştı." },
            { "yabanci": "Hit", "turkce": ["Gözde"], "cumle": "Bu şarkı, bu yazın en büyük hiti olacak." },
            { "yabanci": "İskonto", "turkce": ["İndirim"], "cumle": "Peşin ödemede %10 iskonto yapıyorlar." },
            { "yabanci": "Komünikasyon", "turkce": ["İletişim"], "cumle": "Ekip içi komünikasyon çok zayıftı." },
            { "yabanci": "Limit", "turkce": ["Sınır"], "cumle": "Kredi kartımın limitini artırmak istiyorum." },
            { "yabanci": "Market", "turkce": ["Satış merkezi"], "cumle": "Eve gitmeden önce markete uğramam lazım." },
            { "yabanci": "Mesaj", "turkce": ["İleti"], "cumle": "Telefonuma senden bir mesaj geldi." },
            { "yabanci": "Metot", "turkce": ["Yöntem"], "cumle": "Bu sorunu çözmek için farklı bir metot denemeliyiz." },
            { "yabanci": "Modern", "turkce": ["Çağdaş"], "cumle": "Müzede modern sanat eserleri sergileniyor." },
            { "yabanci": "Montaj", "turkce": ["Kurulum"], "cumle": "Yeni dolabın montajı yaklaşık bir saat sürdü." },
            { "yabanci": "Mönü", "turkce": ["Yemek listesi"], "cumle": "Garson, lütfen mönüyü getirebilir misiniz?" },
            { "yabanci": "Nasihat", "turkce": ["Öğüt"], "cumle": "Dedemin nasihatlerini hep hatırlarım." }
        ];

        // Sayfa yüklendiğinde tüm etkinlikleri başlatan kod
        document.addEventListener('DOMContentLoaded', () => {
            setupLearnCards();
            fillBlanks.loadQuestion();
            sentenceQuiz.loadQuestion();
        });
        
        // Sekme değiştirme fonksiyonu
        function showActivity(activityId) {
            document.querySelectorAll('.activity-content').forEach(el => el.classList.remove('active'));
            document.getElementById(activityId).classList.add('active');
            
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            document.querySelector(`.tab-button[onclick="showActivity('${activityId}')"]`).classList.add('active');

            // Başka bir sekmeye geçildiğinde hafıza oyununu sıfırla
            if (activityId !== 'memory') {
                 memoryGame.reset();
            }
        }
        
        // Dizi karıştırma fonksiyonu
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // --- 1. ETKİNLİK: KARTLARI ÖĞREN ---
        function setupLearnCards() {
            const container = document.getElementById('learn-cards');
            container.innerHTML = '';
            const learnWords = shuffleArray([...wordsData]);
            
            learnWords.forEach(word => {
                const card = document.createElement('div');
                card.classList.add('card');
                const turkceHtml = word.turkce.map(t => `<span>${t}</span>`).join('<br>');
                card.innerHTML = `
                    <div class="card-face-inner">
                        <div class="card-face card-front">${word.yabanci}</div>
                        <div class="card-face card-back">${turkceHtml}</div>
                    </div>
                `;
                card.addEventListener('click', () => card.classList.toggle('is-flipped'));
                container.appendChild(card);
            });
        }
        
        // --- 2. ETKİNLİK: BOŞLUK DOLDURMA ---
        const fillBlanks = {
            currentIndex: -1,
            shuffledWords: [],
            
            loadQuestion: function() {
                if (this.shuffledWords.length === 0) { 
                    this.shuffledWords = shuffleArray([...wordsData].filter(w => w.cumle)); 
                }
                if (this.shuffledWords.length === 0) {
                    document.getElementById('fill-question').innerHTML = "Cümle listesi yüklenemedi.";
                    return;
                }
                this.currentIndex = (this.currentIndex + 1) % this.shuffledWords.length;
                const word = this.shuffledWords[this.currentIndex];
                const regex = new RegExp(`(${word.yabanci})`, 'gi');
                const highlightedSentence = word.cumle.replace(regex, `<strong>$1</strong>`);
                document.getElementById('fill-question').innerHTML = `Aşağıdaki cümlede renkli kelimenin Türkçe karşılığı nedir?<br><br>"${highlightedSentence}"`;
                document.getElementById('fill-answer').value = '';
                document.getElementById('fill-feedback').textContent = '';
                document.getElementById('fill-feedback').className = 'feedback';
                document.getElementById('fill-answer').disabled = false;
            },
            
            checkAnswer: function() {
                if (this.shuffledWords.length === 0) return;
                const currentWord = this.shuffledWords[this.currentIndex];
                if (!currentWord) return;
                const correctAnswers = currentWord.turkce.map(ans => ans.toLowerCase().trim());
                const userAnswer = document.getElementById('fill-answer').value.toLowerCase().trim();
                const feedbackEl = document.getElementById('fill-feedback');
                if (correctAnswers.includes(userAnswer)) {
                    feedbackEl.textContent = "Harika! Doğru bildin!";
                    feedbackEl.className = 'feedback correct';
                } else {
                    feedbackEl.innerHTML = `Tekrar dene! <br>Doğru cevap: <strong>${currentWord.turkce.join(' / ')}</strong>`;
                    feedbackEl.className = 'feedback wrong';
                }
                document.getElementById('fill-answer').disabled = true;
            }
        };
        
        // --- 3. ETKİNLİK: CÜMLE TAMAMLA ---
        const sentenceQuiz = {
            currentIndex: -1,
            shuffledWords: [],
            
            loadQuestion: function() {
                if (this.shuffledWords.length === 0) { 
                    this.shuffledWords = shuffleArray([...wordsData].filter(w => w.cumle)); 
                }
                if (this.shuffledWords.length === 0) {
                    document.getElementById('sentence-question').innerHTML = "Cümle listesi yüklenemedi.";
                    return;
                }
                this.currentIndex = (this.currentIndex + 1) % this.shuffledWords.length;
                const word = this.shuffledWords[this.currentIndex];
                const correctAnswer = word.turkce[0]; 
                const regex = new RegExp(`(${word.yabanci})`, 'gi');
                const highlightedSentence = word.cumle.replace(regex, `<strong>$1</strong>`);
                const questionText = `Aşağıdaki cümlede renkli kelimenin Türkçe karşılığı hangisidir?<br><br>"${highlightedSentence}"`;
                document.getElementById('sentence-question').innerHTML = questionText;
                
                const optionsContainer = document.getElementById('sentence-options');
                optionsContainer.innerHTML = '';
                
                const wrongOptionsPool = wordsData
                    .filter(w => w.turkce[0] !== correctAnswer)
                    .map(w => w.turkce[0]);
                
                const shuffledWrong = shuffleArray(wrongOptionsPool).slice(0, 3);
                const options = shuffleArray([correctAnswer, ...shuffledWrong]);

                options.forEach(option => {
                    const button = document.createElement('button');
                    button.classList.add('option-btn');
                    button.textContent = option;
                    button.onclick = () => this.checkAnswer(option, correctAnswer);
                    optionsContainer.appendChild(button);
                });
                
                document.getElementById('sentence-feedback').textContent = '';
                document.getElementById('sentence-feedback').className = 'feedback';
            },
            
            checkAnswer: function(selected, correct) {
                const feedbackEl = document.getElementById('sentence-feedback');
                const optionButtons = document.querySelectorAll('#sentence-options .option-btn');
                
                optionButtons.forEach(btn => {
                    btn.disabled = true;
                    if(btn.textContent === correct) {
                        btn.classList.add('correct');
                    } else if (btn.textContent === selected) {
                        btn.classList.add('wrong');
                    }
                });
                if (selected === correct) {
                    feedbackEl.textContent = 'Tebrikler, doğru cevap!';
                    feedbackEl.className = 'feedback correct';
                } else {
                    feedbackEl.textContent = 'Maalesef yanlış, doğru cevap işaretlendi.';
                    feedbackEl.className = 'feedback wrong';
                }
            }
        };

        // --- 4. ETKİNLİK: AKILDA TUT OYUNU ---
        const memoryGame = {
            gameMode: 'single',
            currentPlayer: 1,
            scores: { player1: 0, player2: 0 },
            flippedCards: [],
            matchedPairs: 0,
            totalPairs: 6, // Her zaman 6 çift (12 kart)
            isLocked: false,
            hamleSayisi: 0,

            // EKRAN BOYUTUNA GÖRE SADECE SÜTUNLARI AYARLA (KART SAYISI SABİT)
            getResponsiveBoardSize: function() {
                const width = window.innerWidth;
                const pairs = 6; // SABİT: Her zaman 6 çift (12 kart)

                // GENİŞ EKRAN (PC > 900px) -> 6x2 mizanpaj
                if (width > 900) { return { pairs: pairs, columns: 6 }; }
                // TABLET / YATAY MOBİL ( > 600px) -> 4x3 mizanpaj
                if (width > 600) { return { pairs: pairs, columns: 4 }; }
                // DİKEY MOBİL ( < 600px) -> 3x4 mizanpaj
                return { pairs: pairs, columns: 3 }; 
            },

            init(mode) {
                this.gameMode = mode;
                this.resetState();
                
                const boardConfig = this.getResponsiveBoardSize();
                this.totalPairs = boardConfig.pairs; // Her zaman 6 olacak
                
                document.getElementById('memory-setup').style.display = 'none';
                document.getElementById('memory-game-area').style.display = 'block';
                
                this.updateStatus();
                this.renderBoard(boardConfig.columns);
            },

            resetState() {
                this.currentPlayer = 1;
                this.scores = { player1: 0, player2: 0 };
                this.flippedCards = [];
                this.matchedPairs = 0;
                this.isLocked = false;
                this.hamleSayisi = 0;
            },

            renderBoard(columns) {
                // Kelime listesinden 6 çift al
                const gameWords = shuffleArray([...wordsData]).slice(0, this.totalPairs);
                let gameCards = gameWords.flatMap((word, index) => [
                    { type: 'yabanci', value: word.yabanci, pairId: index },
                    { type: 'turkce', value: word.turkce[0], pairId: index } 
                ]);
                gameCards = shuffleArray(gameCards);

                const grid = document.getElementById('memory-grid');
                grid.innerHTML = '';
                // Sütun sayısını dinamik ayarla
                grid.style.gridTemplateColumns = `repeat(${columns}, 1fr)`;
                
                gameCards.forEach(cardData => {
                    const cardEl = document.createElement('div');
                    cardEl.classList.add('memory-card');
                    cardEl.dataset.pairId = cardData.pairId;
                    cardEl.dataset.value = cardData.value; 

                    // **** İKON GÜNCELLEMESİ ****
                    cardEl.innerHTML = `
                        <div class="card-face-inner">
                            <div class="card-front"><i class="bi bi-search"></i></div>
                            <div class="card-back">${cardData.value}</div>
                        </div>
                    `;
                    // **************************

                    cardEl.addEventListener('click', () => this.handleCardClick(cardEl));
                    grid.appendChild(cardEl);
                });
            },

            handleCardClick(cardEl) {
                if (this.isLocked || cardEl.classList.contains('is-flipped') || cardEl.classList.contains('is-matched')) {
                    return;
                }
                cardEl.classList.add('is-flipped');
                this.flippedCards.push(cardEl);
                if (this.flippedCards.length === 2) {
                    this.isLocked = true;
                    if (this.gameMode === 'single') {
                        this.hamleSayisi++;
                    }
                    this.checkForMatch();
                }
            },

            checkForMatch() {
                const [card1, card2] = this.flippedCards;
                const isMatch = card1.dataset.pairId === card2.dataset.pairId;
                if (isMatch) {
                    this.handleMatch();
                } else {
                    this.handleMismatch();
                }
            },

            handleMatch() {
                this.scores[`player${this.currentPlayer}`]++;
                this.matchedPairs++;
                this.flippedCards.forEach(card => {
                    card.classList.add('is-matched');
                });
                this.flippedCards = [];
                this.isLocked = false;
                if (this.matchedPairs === this.totalPairs) {
                    setTimeout(() => this.endGame(), 500);
                } else {
                     if (this.gameMode === 'twoPlayer') { this.updateStatus('Doğru! Tekrar oyna.'); }
                     else { this.updateStatus(); }
                }
            },

            handleMismatch() {
                setTimeout(() => {
                    this.flippedCards.forEach(card => card.classList.remove('is-flipped'));
                    this.flippedCards = [];
                    this.isLocked = false;
                    if (this.gameMode === 'twoPlayer') {
                        this.switchPlayer();
                    }
                     this.updateStatus();
                }, 1200);
            },

            switchPlayer() {
                this.currentPlayer = this.currentPlayer === 1 ? 2 : 1;
            },

            updateStatus(message = '') {
                const statusEl = document.getElementById('memory-status');
                if (this.gameMode === 'single') {
                    statusEl.textContent = `Hamle: ${this.hamleSayisi} | Bulunan Çift: ${this.scores.player1} / ${this.totalPairs}`;
                } else {
                    let statusText = `Skor: O1: ${this.scores.player1} - O2: ${this.scores.player2} | Sıra: Oyuncu ${this.currentPlayer}`;
                    if(message) {
                        statusText = `${message} | ${statusText}`;
                    }
                    statusEl.textContent = statusText;
                }
            },
            
            endGame(){
                 const statusEl = document.getElementById('memory-status');
                 let endMessage = `Tebrikler! ${this.hamleSayisi} hamlede oyunu bitirdin!`;
                 if (this.gameMode === 'twoPlayer') {
                    if (this.scores.player1 > this.scores.player2) endMessage = "Tebrikler, Oyuncu 1 Kazandı!";
                    else if (this.scores.player2 > this.scores.player1) endMessage = "Tebrikler, Oyuncu 2 Kazandı!";
                    else endMessage = "Oyun Berabere!";
                 }
                 statusEl.textContent = endMessage;
            },

            reset() {
                this.resetState();
                document.getElementById('memory-game-area').style.display = 'none';
                document.getElementById('memory-setup').style.display = 'block';
                document.getElementById('memory-grid').style.gridTemplateColumns = '';
            }
        };
    </script>

    <script src="bilesenler/menu.js"></script>

</body>
</html>
