<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>4. SÄ±nÄ±f TÃ¼rkÃ§e: Neden - SonuÃ§ (Tam SÃ¼rÃ¼m)</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">

    <style>
        :root {
            --bg-color: #e0c3fc;
            --bg-gradient: linear-gradient(160deg, #8ec5fc 0%, #e0c3fc 100%);
            --card-bg: #ffffff;
            --primary: #6c5ce7;
            --secondary: #00cec9;
            --accent: #fd79a8;
            --success: #00b894;
            --error: #d63031;
            --text: #2d3436;
            --font-main: 'Nunito', sans-serif;
            --font-title: 'Fredoka', sans-serif;
        }

        * { box-sizing: border-box; user-select: none; }

        body {
            margin: 0; padding: 0;
            font-family: var(--font-main);
            background-image: var(--bg-gradient);
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        /* --- ANA EKRAN (TABLET GÃ–RÃœNÃœMÃœ) --- */
        .main-container {
            width: 95%;
            max-width: 1300px;
            height: 85vh;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            border: 8px solid white;
            position: relative;
        }

        /* --- ÃœST BAR --- */
        .top-bar {
            padding: 15px 30px;
            background: white;
            border-bottom: 2px solid #f1f2f6;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .app-title { font-family: var(--font-title); font-size: 1.8rem; color: var(--primary); display: flex; align-items: center; gap: 10px; }
        .score-badge { background: var(--accent); color: white; padding: 8px 20px; border-radius: 20px; font-weight: bold; font-size: 1.2rem; box-shadow: 0 4px 0 rgba(0,0,0,0.1); }

        /* --- Ä°Ã‡ERÄ°K ALANI (SLIDER) --- */
        .content-stage {
            flex: 1;
            position: relative;
            overflow-y: auto; /* Ä°Ã§erik taÅŸarsa kaydÄ±r */
            overflow-x: hidden;
            padding: 40px;
            scroll-behavior: smooth;
        }
        
        .screen {
            display: none;
            animation: fadeIn 0.5s;
            max-width: 1000px;
            margin: 0 auto;
        }
        .screen.active { display: block; }

        /* --- DOCK MENÃœ (ALT NAVÄ°GASYON) --- */
        .dock {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 10px 20px;
            border-radius: 50px;
            display: flex;
            gap: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            z-index: 100;
        }

        .dock-btn {
            width: 60px; height: 60px;
            border-radius: 50%;
            border: none;
            background: #f1f2f6;
            color: #666;
            font-size: 1.5rem;
            cursor: pointer;
            transition: 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: flex; align-items: center; justify-content: center;
            position: relative;
        }
        .dock-btn:hover, .dock-btn.active { transform: translateY(-10px) scale(1.1); color: white; }
        
        /* Renk KodlarÄ± */
        .btn-home:hover, .btn-home.active { background: #a29bfe; }
        .btn-learn:hover, .btn-learn.active { background: #00cec9; }
        .btn-story:hover, .btn-story.active { background: #fd79a8; }
        .btn-activity:hover, .btn-activity.active { background: #fdcb6e; }
        .btn-quiz:hover, .btn-quiz.active { background: #6c5ce7; }

        .tooltip {
            position: absolute; top: -35px; background: #2d3436; color: white;
            font-size: 0.8rem; padding: 4px 8px; border-radius: 5px; opacity: 0; pointer-events: none; white-space: nowrap;
        }
        .dock-btn:hover .tooltip { opacity: 1; top: -45px; transition: 0.2s; }

        /* --- BÄ°LEÅENLER --- */
        
        /* Kartlar */
        .card {
            background: white; border-radius: 20px; padding: 30px; margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05); border-left: 8px solid var(--primary);
        }
        
        /* Bulutlar */
        .cloud-grid { display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; margin: 20px 0; }
        .cloud {
            background: #74b9ff; color: white; padding: 15px 30px; border-radius: 50px;
            font-weight: bold; font-size: 1.3rem; cursor: pointer; border: 3px solid white;
            box-shadow: 0 5px 10px rgba(0,0,0,0.1); transition: 0.2s;
        }
        .cloud:hover { transform: scale(1.1) rotate(-3deg); background: #0984e3; }

        /* Hikaye Metni */
        .story-text {
            font-size: 1.6rem; line-height: 1.8; text-align: justify;
            color: #2d3436; margin-bottom: 20px;
            display: none; /* JS ile aÃ§Ä±lacak */
        }
        .story-text.visible { display: block; animation: slideInUp 0.5s; }
        
        .nav-arrow {
            background: var(--primary); color: white; border: none; padding: 10px 30px;
            border-radius: 30px; font-size: 1.2rem; cursor: pointer; margin-top: 10px;
            float: right;
        }

        /* Soru KartlarÄ± (Quiz) */
        .quiz-container {
            max-width: 800px; margin: 0 auto; text-align: center;
        }
        .question-text {
            font-size: 1.8rem; font-weight: bold; color: var(--text); margin-bottom: 30px;
        }
        .options-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 20px;
        }
        .option-btn {
            padding: 20px; background: white; border: 3px solid #dfe6e9; border-radius: 15px;
            font-size: 1.3rem; font-weight: bold; color: #636e72; cursor: pointer; transition: 0.2s;
        }
        .option-btn:hover { border-color: var(--primary); background: #f1f2f6; }
        
        /* Cevap Renkleri (JS ile eklenir) */
        .option-btn.correct { background: var(--success) !important; color: white !important; border-color: var(--success) !important; }
        .option-btn.wrong { background: var(--error) !important; color: white !important; border-color: var(--error) !important; animation: shake 0.5s; }

        @keyframes shake { 0%, 100% {transform: translateX(0);} 25% {transform: translateX(-10px);} 75% {transform: translateX(10px);} }

        /* Etkinlik Tablosu */
        .orange-table { width: 100%; border-collapse: separate; border-spacing: 0 10px; }
        .orange-table th { background: #fdcb6e; color: white; padding: 15px; font-size: 1.4rem; border-radius: 10px 10px 0 0; }
        .orange-table td { background: #fff; padding: 15px; box-shadow: 0 5px 0 rgba(0,0,0,0.05); font-size: 1.3rem; }
        .table-input {
            width: 100%; padding: 10px; font-size: 1.2rem; border: 2px solid #dfe6e9; border-radius: 10px;
        }
    </style>
</head>
<body>

<div class="main-container">
    
    <div class="top-bar">
        <div class="app-title"><i class="fas fa-graduation-cap"></i> 4. SÄ±nÄ±f Dedektifleri</div>
        <div class="score-badge">Puan: <span id="score">0</span></div>
    </div>

    <div class="content-stage" id="stage">

        <div id="screen-home" class="screen active" style="text-align: center; padding-top: 50px;">
            <div class="animate__animated animate__bounceIn" style="font-size: 8rem; margin-bottom: 20px;">ğŸ•µï¸â€â™€ï¸</div>
            <h1 style="font-size: 3.5rem; color: var(--primary); margin: 0; font-family: var(--font-title);">NEDEN - SONUÃ‡<br>DEDEKTÄ°FLÄ°ÄÄ°</h1>
            <p style="font-size: 1.5rem; color: #666; margin-top: 20px;">OlaylarÄ±n arkasÄ±ndaki sÄ±rrÄ± Ã§Ã¶zmeye hazÄ±r mÄ±sÄ±n?</p>
            <button class="nav-arrow" style="float:none; font-size: 1.5rem; padding: 15px 40px;" onclick="switchScreen('screen-learn')">BAÅLA â–¶</button>
        </div>

        <div id="screen-learn" class="screen">
            <h1 style="color:var(--secondary); text-align:center;">ğŸ“ Ä°puÃ§larÄ±</h1>
            
            <div class="card">
                <h2 style="margin:0; color: var(--primary);">Dedektif KuralÄ±:</h2>
                <p style="font-size: 1.4rem;">Bir cÃ¼mlede "Bu olay <span style="color:var(--error); font-weight:bold;">NEDEN</span> oldu?" sorusuna cevap bulabiliyorsan, o bir Neden-SonuÃ§ cÃ¼mlesidir.</p>
            </div>

            <div class="card" style="border-color: var(--accent);">
                <h3 style="text-align:center;">ğŸ” Bu Kelimeleri Takip Et!</h3>
                <div class="cloud-grid">
                    <div class="cloud">Ä°Ã‡Ä°N</div>
                    <div class="cloud">Ã‡ÃœNKÃœ</div>
                    <div class="cloud">BU YÃœZDEN</div>
                    <div class="cloud">DOLAYISIYLA</div>
                    <div class="cloud">BU SEBEPLE</div>
                    <div class="cloud">-DEN DOLAYI</div>
                </div>
            </div>
        </div>

        <div id="screen-stories" class="screen">
            
            <div id="story-menu" style="text-align:center;">
                <h1>ğŸ“– Bir Dosya SeÃ§</h1>
                <div style="display:flex; justify-content:center; gap:30px; margin-top:50px;">
                    <div onclick="startStory('story1')" style="cursor:pointer; background:white; padding:30px; border-radius:20px; width:300px; box-shadow:0 10px 20px rgba(0,0,0,0.1);">
                        <i class="fas fa-bus" style="font-size:4rem; color:var(--accent);"></i>
                        <h2>GeÃ§ Kalan Sevgi</h2>
                    </div>
                    <div onclick="startStory('story2')" style="cursor:pointer; background:white; padding:30px; border-radius:20px; width:300px; box-shadow:0 10px 20px rgba(0,0,0,0.1);">
                        <i class="fas fa-crown" style="font-size:4rem; color:gold;"></i>
                        <h2>Cesur Kral</h2>
                    </div>
                </div>
            </div>

            <div id="story1-content" style="display:none;">
                <h2 style="color:var(--accent);"><i class="fas fa-bus"></i> GeÃ§ Kalan Sevgi</h2>
                
                <div class="card">
                    <div id="s1-p1" class="story-text visible">
                        Sevgi, okuldan eve dÃ¶nerken o hiÃ§ sevmediÄŸi Ä±ssÄ±z ve korkutucu yolda yaklaÅŸÄ±k bir saattir minibÃ¼s bekliyordu. SoÄŸuktan titriyor, gecenin karanlÄ±ÄŸÄ±ndan ve sessizliÄŸinden korkuyordu.
                        <br><button class="nav-arrow" onclick="revealText('s1-p2')">Devam Et â–¼</button>
                    </div>
                    
                    <div id="s1-p2" class="story-text">
                        Birden arkasÄ±nda bir kÃ¶pek hÄ±rlamasÄ± duydu. KÃ¶pek ona sanki yiyecekmiÅŸ gibi bakÄ±yordu. Besili bir kÃ¶pekti.
                        <strong style="color:var(--error)">Sevgi korktuÄŸu iÃ§in bir anda koÅŸmaya baÅŸladÄ±.</strong>
                        <br><button class="nav-arrow" onclick="revealText('s1-p3')">Devam Et â–¼</button>
                    </div>

                    <div id="s1-p3" class="story-text">
                        Bir apartmana sÄ±ÄŸÄ±ndÄ±. Sonra Ã¶ÄŸrendi ki: MinibÃ¼sÃ¼ beklediÄŸi yolun az ilerisinde <strong>yol Ã§alÄ±ÅŸmasÄ± varmÄ±ÅŸ</strong> (Sebep) ve minibÃ¼s bu yÃ¼zden baÅŸka yoldan gidiyormuÅŸ (SonuÃ§).
                        <br><br>
                        <div style="background:#ffeaa7; padding:15px; border-radius:10px; text-align:center; font-weight:bold;">
                            Vaka Ã‡Ã¶zÃ¼ldÃ¼! ğŸ‰
                        </div>
                    </div>
                </div>
                <button class="nav-arrow" style="background:#ccc; float:left;" onclick="resetStory()">Geri DÃ¶n</button>
            </div>

            <div id="story2-content" style="display:none;">
                <h2 style="color:gold;"><i class="fas fa-crown"></i> Cesur Kral</h2>
                <div class="card">
                    <div id="s2-p1" class="story-text visible">
                        Kral yaÅŸlanÄ±nca "Ã–lmeden Ã¶nce son bir isteÄŸim var: Bilge biri olarak anÄ±lmak!" demiÅŸ. <strong>Bu yÃ¼zden</strong> de kral sÃ¼rekli kitap okumaya baÅŸlamÄ±ÅŸ.
                        <br><button class="nav-arrow" onclick="revealText('s2-p2')">Devam Et â–¼</button>
                    </div>
                    <div id="s2-p2" class="story-text">
                        Ak sakallÄ± dede ona ÅŸÃ¶yle demiÅŸ: "KulaÄŸÄ±nla duyduÄŸuna hemen inanma. GÃ¶zÃ¼nle gÃ¶rdÃ¼ÄŸÃ¼ne inan. <strong>Ã‡Ã¼nkÃ¼ doÄŸru ile yanlÄ±ÅŸ arasÄ± 5 parmaktÄ±r (GÃ¶z ve Kulak arasÄ±).</strong>"
                        <br><br>
                        <div style="background:#ffeaa7; padding:15px; border-radius:10px; text-align:center; font-weight:bold;">
                            Ders: DuyduÄŸuna (Dedikodu) deÄŸil, GÃ¶rdÃ¼ÄŸÃ¼ne (KanÄ±t) inan!
                        </div>
                    </div>
                </div>
                <button class="nav-arrow" style="background:#ccc; float:left;" onclick="resetStory()">Geri DÃ¶n</button>
            </div>

        </div>

        <div id="screen-activity" class="screen">
            <h1>ğŸ§© KanÄ±t MasasÄ±</h1>
            
            <div class="card">
                <h3>Tabloyu Tamamla</h3>
                <table class="orange-table">
                    <tr><th>SEBEP</th><th>SONUÃ‡</th></tr>
                    <tr>
                        <td>Hayat boyu Ã¶ÄŸrenmeye devam ettiÄŸi iÃ§in...</td>
                        <td><input class="table-input" id="inp1" placeholder="SonuÃ§ ne olur?"></td>
                    </tr>
                    <tr>
                        <td>Tehlikeli olduÄŸu iÃ§in...</td>
                        <td><input class="table-input" id="inp2" placeholder="Ã–rn: Prizle oynamam."></td>
                    </tr>
                </table>
                <button class="nav-arrow" style="margin-top:10px; float:none;" onclick="checkTable()">Kontrol Et</button>
            </div>

            <div class="card" style="background:#e0f7fa; border-color:#00bcd4;">
                <div style="display:flex; align-items:center; gap:20px;">
                    <i class="fas fa-fish" style="font-size:4rem; color:#0097a7;"></i>
                    <div>
                        <h3>Balina Raporu</h3>
                        <p>Balinalar birlikte beslenir, birlikte yaÅŸar, birbirini korur.</p>
                        <p><strong>SONUÃ‡:</strong> Balinalar sosyaldir ve dayanÄ±ÅŸma iÃ§indedir.</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="screen-quiz" class="screen">
            <div class="quiz-container">
                <h1 style="color:var(--primary);">ğŸ† BÃœYÃœK SINAV</h1>
                <div id="quiz-box">
                    <div class="question-text" id="q-text">Soru YÃ¼kleniyor...</div>
                    <div class="options-grid" id="q-options"></div>
                </div>
                <div id="quiz-result" style="display:none;">
                    <h2>SÄ±nav Bitti!</h2>
                    <p style="font-size:2rem;">Toplam Puan: <span id="final-score">0</span></p>
                    <button class="nav-arrow" onclick="location.reload()" style="float:none;">Tekrar Oyna</button>
                </div>
            </div>
        </div>

    </div>

    <div class="dock">
        <button class="dock-btn btn-home active" onclick="switchScreen('screen-home', this)">
            <i class="fas fa-home"></i><span class="tooltip">GiriÅŸ</span>
        </button>
        <button class="dock-btn btn-learn" onclick="switchScreen('screen-learn', this)">
            <i class="fas fa-lightbulb"></i><span class="tooltip">Ä°puÃ§larÄ±</span>
        </button>
        <button class="dock-btn btn-story" onclick="switchScreen('screen-stories', this)">
            <i class="fas fa-book-open"></i><span class="tooltip">Hikayeler</span>
        </button>
        <button class="dock-btn btn-activity" onclick="switchScreen('screen-activity', this)">
            <i class="fas fa-puzzle-piece"></i><span class="tooltip">Etkinlik</span>
        </button>
        <button class="dock-btn btn-quiz" onclick="switchScreen('screen-quiz', this); loadQuestion();">
            <i class="fas fa-trophy"></i><span class="tooltip">SÄ±nav</span>
        </button>
    </div>

</div>

<script>
    // --- EKRAN YÃ–NETÄ°MÄ° ---
    function switchScreen(screenId, btn) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(screenId).classList.add('active');
        
        if(btn) {
            document.querySelectorAll('.dock-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
        }
    }

    // --- HÄ°KAYE MEKANÄ°ÄÄ° ---
    function startStory(id) {
        document.getElementById('story-menu').style.display = 'none';
        document.getElementById(id + '-content').style.display = 'block';
    }

    function revealText(id) {
        document.getElementById(id).classList.add('visible');
        // Otomatik kaydÄ±r
        document.getElementById(id).scrollIntoView({behavior: "smooth"});
    }

    function resetStory() {
        document.getElementById('story-menu').style.display = 'block';
        document.getElementById('story1-content').style.display = 'none';
        document.getElementById('story2-content').style.display = 'none';
        // Metinleri gizle (ilk paragraflar hariÃ§)
        document.querySelectorAll('.story-text').forEach(el => {
            if(!el.id.endsWith('p1')) el.classList.remove('visible');
        });
    }

    // --- TABLO KONTROLÃœ ---
    function checkTable() {
        let i1 = document.getElementById('inp1');
        let i2 = document.getElementById('inp2');
        
        if(i1.value.length > 3) { i1.style.borderColor = "green"; i1.style.backgroundColor = "#d4edda"; updateScore(10); }
        if(i2.value.length > 3) { i2.style.borderColor = "green"; i2.style.backgroundColor = "#d4edda"; updateScore(10); }
    }

    // --- SORU BANKASI (TÃœM KAYNAKLARDAN) ---
    const questions = [
        {
            q: "AÅŸaÄŸÄ±daki cÃ¼mlelerin hangisi sebep-sonuÃ§ cÃ¼mlesi DEÄÄ°LDÄ°R?",
            opts: ["Kar yaÄŸÄ±nca okullar tatil oldu.", "Korku, sevinÃ§ gibi duygularda nabÄ±z artar.", "Size gelemiyorum Ã§Ã¼nkÃ¼ misafir var.", "HastalandÄ±ÄŸÄ± iÃ§in gelmedi."],
            ans: 1 // Korku sevinÃ§
        },
        {
            q: "'...................... burnun tÄ±kanmÄ±ÅŸ.' BoÅŸluÄŸa ne gelmeli?",
            opts: ["Nezle olmuÅŸsun", "GÃ¶zlerin ÅŸiÅŸmiÅŸ", "Sesin kÄ±sÄ±lmÄ±ÅŸ", "BakÄ±yorum da yine"],
            ans: 0
        },
        {
            q: "Hangisinde iÅŸi bÄ±rakma NEDENÄ° verilmiÅŸtir?",
            opts: ["Bir ay Ã¶nce iÅŸi bÄ±raktÄ±.", "YoÄŸun Ã§alÄ±ÅŸmaktan bÄ±ktÄ±ÄŸÄ± iÃ§in bÄ±raktÄ±.", "Bu yÄ±l 3. iÅŸi oldu.", "ArkadaÅŸÄ±yla bÄ±raktÄ±."],
            ans: 1
        },
        {
            q: "Balinalar birlikte beslenir ve yaÅŸar. Bu neyi gÃ¶sterir?",
            opts: ["Tehlikeli olduklarÄ±nÄ±", "Sosyal olduklarÄ±nÄ± ve yardÄ±mlaÅŸtÄ±klarÄ±nÄ±", "Ã‡ok yemek yediklerini", "Denizde yaÅŸadÄ±klarÄ±nÄ±"],
            ans: 1
        },
        {
            q: "'Oyun kolu bozuk olduÄŸu iÃ§in beni yenebildin.' cÃ¼mlesindeki sebep nedir?",
            opts: ["Beni yenebilmen", "Oyun kolunun bozuk olmasÄ±", "Oyun oynamamÄ±z", "Kolun yeni olmasÄ±"],
            ans: 1
        },
        {
            q: "AÅŸaÄŸÄ±dakilerden hangisi sebep-sonuÃ§ iliÅŸkisi kuran bir kelime deÄŸildir?",
            opts: ["Ã‡Ã¼nkÃ¼", "Bu yÃ¼zden", "Ama", "DolayÄ±sÄ±yla"],
            ans: 2
        }
    ];

    let currentQ = 0;
    let score = 0;

    function loadQuestion() {
        if(currentQ >= questions.length) {
            document.getElementById('quiz-box').style.display = 'none';
            document.getElementById('quiz-result').style.display = 'block';
            document.getElementById('final-score').innerText = score;
            return;
        }

        const q = questions[currentQ];
        document.getElementById('q-text').innerText = (currentQ + 1) + ". " + q.q;
        
        let html = '';
        q.opts.forEach((opt, idx) => {
            html += `<button class="option-btn" onclick="checkAnswer(this, ${idx})">${opt}</button>`;
        });
        document.getElementById('q-options').innerHTML = html;
    }

    function checkAnswer(btn, idx) {
        // Kilitle
        let buttons = document.querySelectorAll('.option-btn');
        buttons.forEach(b => b.disabled = true);

        if(idx === questions[currentQ].ans) {
            btn.classList.add('correct');
            btn.innerHTML += " <i class='fas fa-check'></i>";
            updateScore(20);
        } else {
            btn.classList.add('wrong');
            // DoÄŸruyu gÃ¶ster
            buttons[questions[currentQ].ans].classList.add('correct');
        }

        setTimeout(() => {
            currentQ++;
            loadQuestion();
        }, 2000); // 2 saniye bekle sonraki soruya geÃ§
    }

    function updateScore(pts) {
        score += pts;
        document.getElementById('score').innerText = score;
        // Animasyon
        let badge = document.querySelector('.score-badge');
        badge.style.transform = "scale(1.2)";
        setTimeout(() => badge.style.transform = "scale(1)", 200);
    }

</script>

</body>
</html>
