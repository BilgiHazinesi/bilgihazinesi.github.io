<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MÄ±knatÄ±s UstasÄ± - Fen Bilimleri</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --n-color: #ff3b30; /* KÄ±rmÄ±zÄ± */
            --s-color: #007aff; /* Mavi */
            --bg-color: #f1f2f6;
            --text-color: #2c3e50;
        }

        body {
            font-family: 'Fredoka', sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            user-select: none;
            color: var(--text-color);
        }

        /* --- MENÃœ --- */
        .nav-bar {
            background: white; padding: 10px; border-radius: 50px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1); margin-bottom: 20px;
            display: flex; gap: 10px; flex-wrap: wrap; justify-content: center;
        }
        .nav-btn {
            border: none; background: transparent; padding: 10px 20px;
            border-radius: 40px; font-weight: bold; color: #7f8c8d; cursor: pointer;
            font-family: 'Fredoka'; font-size: 1rem; transition: 0.3s;
        }
        .nav-btn.active { background: #2f3542; color: white; }

        /* --- PANELLER --- */
        .panel { display: none; width: 100%; max-width: 1000px; animation: fadeIn 0.4s; }
        .panel.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* --- TAB 1: SERBEST LAB --- */
        #lab-container {
            height: 500px; background-color: white;
            background-image: radial-gradient(#dfe4ea 2px, transparent 2px);
            background-size: 30px 30px;
            border: 4px solid #2f3542; border-radius: 20px;
            position: relative; overflow: hidden;
            touch-action: none;
        }

        .magnet {
            position: absolute; display: flex;
            width: 160px; height: 50px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            border-radius: 6px; cursor: grab; font-weight: bold; color: white;
            align-items: center; justify-content: center; font-size: 1.2rem;
            z-index: 10; transition: transform 0.1s; border: 2px solid white;
        }
        .magnet:active { cursor: grabbing; z-index: 100; transform: scale(1.05); }
        
        /* Kutuplar */
        .pole { flex: 1; height: 100%; display: flex; align-items: center; justify-content: center; }
        .pole.n { background: var(--n-color); }
        .pole.s { background: var(--s-color); }

        .toolbar {
            display: flex; gap: 10px; justify-content: center; margin-bottom: 10px; flex-wrap: wrap;
        }
        .tool-btn {
            padding: 10px 20px; border: none; border-radius: 10px; color: white; 
            font-weight: bold; cursor: pointer; font-family: 'Fredoka'; 
            box-shadow: 0 4px 0 rgba(0,0,0,0.2); transition: transform 0.1s;
        }
        .tool-btn:active { transform: translateY(4px); box-shadow: none; }
        
        .btn-add { background: #27ae60; }
        .btn-delete-mode { background: #c0392b; }
        .btn-break-mode { background: #f39c12; }
        .btn-clear { background: #7f8c8d; }
        
        .mode-active { border: 3px solid #333; box-shadow: inset 0 0 10px rgba(0,0,0,0.3); transform: translateY(2px);}

        /* --- TAB 2: SORULAR --- */
        .questions-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        @media(max-width: 800px) { .questions-grid { grid-template-columns: 1fr; } }

        .q-card {
            background: white; padding: 20px; border-radius: 20px; 
            box-shadow: 0 10px 20px rgba(0,0,0,0.05); height: 500px; 
            position: relative; border-bottom: 5px solid #bdc3c7; overflow: hidden;
            display: flex; flex-direction: column; align-items: center;
        }
        
        .q-title { font-size: 1.3rem; margin-bottom: 15px; text-align: center; color: #333; font-weight: bold; }
        .q-info { font-size: 0.9rem; color: #666; margin-bottom: 10px; text-align: center; background: #eee; padding: 5px 10px; border-radius: 10px;}

        /* Soru MÄ±knatÄ±slarÄ± */
        .q-mag {
            width: 80px; height: 120px; display: flex; flex-direction: column;
            border-radius: 5px; font-weight: bold; color: white; font-size: 1.2rem;
            box-shadow: 0 5px 10px rgba(0,0,0,0.2); position: absolute; z-index: 5;
            border: 2px solid #555;
        }
        /* Yatay Soru MÄ±knatÄ±sÄ± */
        .q-mag.horizontal {
            width: 100px; height: 40px; flex-direction: row;
        }

        /* Renkleri Soru BÃ¶lÃ¼mÃ¼nde Zorunlu KÄ±l */
        .q-pole { flex: 1; display: flex; align-items: center; justify-content: center; width: 100%; height: 100%; }
        .q-pole.n { background-color: var(--n-color) !important; }
        .q-pole.s { background-color: var(--s-color) !important; }

        /* Yay SVG */
        #spring-visual { overflow: visible; }
        #spring-path { fill: none; stroke: #2c3e50; stroke-width: 5; stroke-linecap: round; }

        /* Ä°p (SarkaÃ§) */
        .pendulum-root { position: absolute; top: 60px; height: 300px; width: 2px; transform-origin: top center; transition: transform 0.3s cubic-bezier(0.25, 1, 0.5, 1); }
        .string { width: 3px; height: 100%; background: #333; margin: 0 auto; }
        .mag-on-string { position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); }

        /* --- TAB 3: MÃœZE --- */
        .gallery { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 30px; padding: 20px; }
        .gallery-item { background: white; padding: 30px; border-radius: 20px; text-align: center; box-shadow: 0 5px 15px rgba(0,0,0,0.05); transition: transform 0.2s; }
        .gallery-item:hover { transform: translateY(-5px); }
        .gallery-label { display: block; margin-top: 15px; font-weight: bold; color: #555; }

    </style>
</head>
<body>

    <div class="nav-bar">
        <button class="nav-btn active" onclick="switchTab('tab-lab', this)">1. Serbest Laboratuvar</button>
        <button class="nav-btn" onclick="switchTab('tab-questions', this)">2. Soru SimÃ¼lasyonu</button>
        <button class="nav-btn" onclick="switchTab('tab-gallery', this)">3. MÄ±knatÄ±s Ã‡eÅŸitleri</button>
    </div>

    <div id="tab-lab" class="panel active">
        <div class="toolbar">
            <button class="tool-btn btn-add" onclick="addMagnet()">â• Ekle</button>
            <button class="tool-btn btn-delete-mode" id="btn-del" onclick="toggleDeleteMode()">ğŸ—‘ï¸ Silgi Modu</button>
            <button class="tool-btn btn-break-mode" id="btn-break" onclick="toggleBreakMode()">ğŸ”¨ KÄ±rma Modu</button>
            <button class="tool-btn btn-clear" onclick="clearLab()">âœ¨ Temizle</button>
        </div>
        <div id="lab-container">
            </div>
    </div>

    <div id="tab-questions" class="panel">
        <div class="questions-grid">
            
            <div class="q-card" id="q-spring-area">
                <div class="q-title">Yay Sorusu</div>
                <div class="q-info">Alttaki mÄ±knatÄ±sÄ± sÃ¼rÃ¼kle, kutuplarÄ± Ã§evirip yayÄ± gÃ¶zlemle.</div>
                
                <svg id="spring-visual" width="60" height="400" style="position:absolute; top:0; left:50%; transform:translateX(-50%);">
                    <path id="spring-path" d="M30,0 L30,20 L50,30 L10,50 L50,70 L10,90 L30,100" />
                </svg>

                <div class="q-mag" id="spring-top" style="top: 100px; left: 50%; transform: translateX(-50%);">
                    <div class="q-pole s">S</div>
                    <div class="q-pole n">N</div>
                </div>

                <div class="q-mag" id="spring-bot" style="top: 350px; left: 50%; transform: translateX(-50%); cursor: ns-resize;">
                    <div class="q-pole s">S</div>
                    <div class="q-pole n">N</div>
                </div>

                <div style="margin-top:auto; z-index:20;">
                    <button class="tool-btn btn-add" onclick="flipQ('spring-bot')">Alttakini Ã‡evir ğŸ”„</button>
                </div>
            </div>

            <div class="q-card" id="q-string-area">
                <div class="q-title">Ä°p (SarkaÃ§) Sorusu</div>
                <div class="q-info">SaÄŸdaki ipi tut ve sola yaklaÅŸtÄ±r. Ä°plerin aÃ§Ä±sÄ±na dikkat!</div>
                
                <div style="position:absolute; top:0; width:100%; height:20px; background:#444;"></div>

                <div class="pendulum-root" id="pend-left" style="left: 30%;">
                    <div class="string"></div>
                    <div class="q-mag horizontal mag-on-string" id="pmag-left">
                        <div class="q-pole n">N</div>
                        <div class="q-pole s">S</div>
                    </div>
                </div>

                <div class="pendulum-root" id="pend-right" style="left: 70%; cursor: ew-resize;">
                    <div class="string"></div>
                    <div class="q-mag horizontal mag-on-string" id="pmag-right">
                        <div class="q-pole n">N</div>
                        <div class="q-pole s">S</div>
                    </div>
                </div>

                <div style="margin-top:auto; display:flex; gap:10px; z-index:20;">
                    <button class="tool-btn btn-add" onclick="flipPendulum('pmag-left')">Solu Ã‡evir ğŸ”„</button>
                    <button class="tool-btn btn-add" onclick="flipPendulum('pmag-right')">SaÄŸÄ± Ã‡evir ğŸ”„</button>
                </div>
            </div>
        </div>
    </div>

    <div id="tab-gallery" class="panel">
        <div class="gallery">
            <div class="gallery-item">
                <svg width="100" height="120" viewBox="0 0 100 120" style="margin: auto;">
                    <path d="M15,120 V50 C15,10 85,10 85,50 V120 H65 V50 C65,30 35,30 35,50 V120 Z" fill="#bdc3c7" stroke="#333" stroke-width="2"/>
                    <path d="M15,120 V90 H35 V120 Z" fill="#ff3b30"/>
                    <text x="20" y="110" fill="white" font-weight="bold" font-size="12">N</text>
                    <path d="M85,120 V90 H65 V120 Z" fill="#007aff"/>
                    <text x="70" y="110" fill="white" font-weight="bold" font-size="12">S</text>
                </svg>
                <span class="gallery-label">At NalÄ± MÄ±knatÄ±s</span>
            </div>
            <div class="gallery-item">
                <div style="width: 120px; height: 30px; display: flex; margin: 45px auto; border-radius: 4px; overflow: hidden; font-weight:bold; color:white;">
                    <div style="width: 50%; background: #ff3b30; display:flex; align-items:center; justify-content:center;">N</div>
                    <div style="width: 50%; background: #007aff; display:flex; align-items:center; justify-content:center;">S</div>
                </div>
                <span class="gallery-label">Ã‡ubuk MÄ±knatÄ±s</span>
            </div>
            <div class="gallery-item">
                <div style="width: 70px; height: 70px; border-radius: 50%; background: radial-gradient(#999, #333); margin: 25px auto; box-shadow: 0 5px 10px rgba(0,0,0,0.3);"></div>
                <span class="gallery-label">Yuvarlak MÄ±knatÄ±s</span>
            </div>
             <div class="gallery-item">
                <div style="width: 70px; height: 70px; border-radius: 50%; background: #333; margin: 25px auto; display:flex; align-items:center; justify-content:center;">
                    <div style="width: 30px; height: 30px; background: white; border-radius: 50%;"></div>
                </div>
                <span class="gallery-label">Halka MÄ±knatÄ±s</span>
            </div>
        </div>
    </div>

    <script>
        // --- NAVÄ°GASYON ---
        function switchTab(id, btn) {
            document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            btn.classList.add('active');
        }

        /* ----------------------------------------------------------------
           BÃ–LÃœM 1: LABORATUVAR KODLARI
           ---------------------------------------------------------------- */
        const lab = document.getElementById('lab-container');
        let magnets = [];
        let mode = 'move'; // 'move', 'delete', 'break'

        function toggleDeleteMode() {
            mode = (mode === 'delete') ? 'move' : 'delete';
            updateToolbar();
        }
        function toggleBreakMode() {
            mode = (mode === 'break') ? 'move' : 'break';
            updateToolbar();
        }
        function updateToolbar() {
            document.getElementById('btn-del').classList.remove('mode-active');
            document.getElementById('btn-break').classList.remove('mode-active');
            lab.style.cursor = 'default';
            
            if(mode === 'delete') {
                document.getElementById('btn-del').classList.add('mode-active');
                lab.style.cursor = 'not-allowed'; // Silme imleci
            } else if(mode === 'break') {
                document.getElementById('btn-break').classList.add('mode-active');
                lab.style.cursor = 'crosshair';
            }
        }

        class Magnet {
            constructor(x, y, w, h) {
                this.x = x; this.y = y;
                this.w = w || 160; this.h = h || 50;
                this.vx = 0; this.vy = 0;
                this.flipped = false;
                this.dragging = false;

                this.el = document.createElement('div');
                this.el.className = 'magnet';
                this.render();
                
                // Olaylar
                this.el.addEventListener('mousedown', (e) => this.onInteract(e));
                this.el.addEventListener('touchstart', (e) => this.onInteract(e), {passive:false});
                this.el.addEventListener('dblclick', (e) => {
                    if(mode === 'move') {
                        this.flipped = !this.flipped;
                        this.render();
                    }
                });

                lab.appendChild(this.el);
                this.updatePos();
            }

            render() {
                this.el.style.width = this.w + 'px';
                this.el.style.height = this.h + 'px';
                this.el.innerHTML = '';
                
                // Normal: N-S. Flipped: S-N.
                const c1 = this.flipped ? 's' : 'n';
                const c2 = this.flipped ? 'n' : 's';
                const t1 = this.flipped ? 'S' : 'N';
                const t2 = this.flipped ? 'N' : 'S';

                this.el.innerHTML = `
                    <div class="pole ${c1}">${t1}</div>
                    <div class="pole ${c2}">${t2}</div>
                `;
            }

            onInteract(e) {
                e.stopPropagation(); // Lab'a tÄ±klamayÄ± engelle
                
                if(mode === 'delete') {
                    this.el.remove();
                    magnets = magnets.filter(m => m !== this);
                    return;
                }
                if(mode === 'break') {
                    if(this.w < 60) return; // Ã‡ok kÃ¼Ã§Ã¼kse kÄ±rÄ±lmaz
                    this.el.remove();
                    magnets = magnets.filter(m => m !== this);
                    
                    // ParÃ§ala
                    let newW = (this.w / 2) - 5;
                    let m1 = new Magnet(this.x, this.y, newW, this.h);
                    let m2 = new Magnet(this.x + newW + 10, this.y, newW, this.h);
                    m1.flipped = this.flipped; m2.flipped = this.flipped;
                    m1.vx = -3; m2.vx = 3;
                    magnets.push(m1, m2);
                    return;
                }

                // Move modu
                this.dragging = true;
                const clientX = e.clientX || e.touches[0].clientX;
                const clientY = e.clientY || e.touches[0].clientY;
                this.offX = clientX - this.x;
                this.offY = clientY - this.y;
            }

            updatePos() {
                this.el.style.left = this.x + 'px';
                this.el.style.top = this.y + 'px';
            }
        }

        // Global Drag
        window.addEventListener('mousemove', (e) => {
            magnets.forEach(m => {
                if(m.dragging) {
                    m.x = e.clientX - m.offX;
                    m.y = e.clientY - m.offY;
                    m.updatePos();
                }
            });
        });
        window.addEventListener('mouseup', () => magnets.forEach(m => m.dragging = false));
        
        // Touch
        window.addEventListener('touchmove', (e) => {
             magnets.forEach(m => {
                if(m.dragging) {
                    m.x = e.touches[0].clientX - m.offX;
                    m.y = e.touches[0].clientY - m.offY;
                    m.updatePos();
                }
            });
        }, {passive:false});
        window.addEventListener('touchend', () => magnets.forEach(m => m.dragging = false));

        // Fizik DÃ¶ngÃ¼sÃ¼
        function loop() {
            for(let i=0; i<magnets.length; i++) {
                let m1 = magnets[i];
                if(m1.dragging) continue;

                for(let j=0; j<magnets.length; j++) {
                    if(i === j) continue;
                    let m2 = magnets[j];
                    
                    let cx1 = m1.x + m1.w/2; let cy1 = m1.y + m1.h/2;
                    let cx2 = m2.x + m2.w/2; let cy2 = m2.y + m2.h/2;
                    let dx = cx2 - cx1; let dy = cy2 - cy1;
                    let dist = Math.sqrt(dx*dx + dy*dy);

                    if(dist < 50 || dist > 300) continue;

                    // Kutuplar
                    // m2 saÄŸda ise: m1'in saÄŸÄ± ile m2'nin solu etkileÅŸir
                    let isM2Right = cx2 > cx1;
                    let p1 = isM2Right ? (m1.flipped ? 'n' : 's') : (m1.flipped ? 's' : 'n');
                    let p2 = isM2Right ? (m2.flipped ? 's' : 'n') : (m2.flipped ? 'n' : 's');

                    let attract = (p1 !== p2);
                    let force = 2000 / (dist * dist);
                    let fx = (dx/dist) * force;
                    let fy = (dy/dist) * force;

                    if(attract) { m1.vx += fx; m1.vy += fy; }
                    else { m1.vx -= fx; m1.vy -= fy; }
                }
                
                m1.x += m1.vx; m1.y += m1.vy;
                m1.vx *= 0.92; m1.vy *= 0.92;

                // Duvarlar
                if(m1.x < 0) m1.x = 0;
                if(m1.y < 0) m1.y = 0;
                if(m1.x > lab.clientWidth - m1.w) m1.x = lab.clientWidth - m1.w;
                if(m1.y > lab.clientHeight - m1.h) m1.y = lab.clientHeight - m1.h;
                m1.updatePos();
            }
            requestAnimationFrame(loop);
        }

        function addMagnet() {
            let m = new Magnet(50 + Math.random()*200, 50 + Math.random()*200);
            magnets.push(m);
        }
        function clearLab() {
            magnets.forEach(m => m.el.remove());
            magnets = [];
        }
        // BaÅŸlat
        addMagnet(); setTimeout(addMagnet, 50);
        loop();


        /* ----------------------------------------------------------------
           BÃ–LÃœM 2: SORU KODLARI
           ---------------------------------------------------------------- */
        
        // --- YAY SORUSU ---
        const sTop = document.getElementById('spring-top');
        const sBot = document.getElementById('spring-bot');
        const sPath = document.getElementById('spring-path');
        let sDragging = false;
        
        // BaÅŸlangÄ±Ã§ KutuplarÄ± (HTML'e uygun)
        let sTopPole = 'N'; // Ãœst MÄ±knatÄ±sÄ±n Alt ucu N
        let sBotPole = 'N'; // Alt MÄ±knatÄ±sÄ±n Ãœst ucu N

        sBot.addEventListener('mousedown', () => sDragging = true);
        window.addEventListener('mouseup', () => sDragging = false);
        document.getElementById('q-spring-area').addEventListener('mousemove', (e) => {
            if(!sDragging) return;
            const rect = document.getElementById('q-spring-area').getBoundingClientRect();
            let y = e.clientY - rect.top - 60; 
            if(y < 220) y = 220; if(y > 380) y = 380;
            sBot.style.top = y + 'px';
            updateSpring();
        });

        function flipQ(id) {
            const el = document.getElementById(id);
            if(el.innerHTML.includes('pole s">S</div>')) {
                // S Ã¼stteydi -> N Ã¼stte yap (Normal)
                el.innerHTML = '<div class="q-pole n">N</div><div class="q-pole s">S</div>';
                if(id === 'spring-bot') sBotPole = 'N';
            } else {
                // N Ã¼stteydi -> S Ã¼stte yap (Ters)
                el.innerHTML = '<div class="q-pole s">S</div><div class="q-pole n">N</div>';
                if(id === 'spring-bot') sBotPole = 'S';
            }
            updateSpring();
        }

        function updateSpring() {
            let topY = 100 + 120; // Ãœst mÄ±knatÄ±s altÄ±
            let botY = parseInt(sBot.style.top); // Alt mÄ±knatÄ±s Ã¼stÃ¼
            let dist = botY - topY;

            // Kutuplar: Ãœst mÄ±knatÄ±sÄ±n altÄ± N (Sabit). Alt mÄ±knatÄ±sÄ±n Ã¼stÃ¼ deÄŸiÅŸken.
            // ZIT (N-S) -> Ã‡eker. AYNI (N-N) -> Ä°ter.
            let attract = (sBotPole !== 'N'); // sBotPole 'S' ise zÄ±t olur ve Ã§eker.

            let offset = 0;
            if(dist < 150) {
                let force = (150 - dist) / 2;
                if(attract) offset = force; // AÅŸaÄŸÄ± uzar
                else offset = -force; // YukarÄ± sÄ±kÄ±ÅŸÄ±r
            }

            let newH = 100 + offset;
            sTop.style.top = newH + 'px';

            // Yay Ã‡izimi
            let path = `M30,0 L30,20 L50,30 L10,50 L50,70 L10,90 L30,100 L30,${newH}`;
            sPath.setAttribute('d', path);
        }

        // --- Ä°P SORUSU ---
        const pLeftRoot = document.getElementById('pend-left');
        const pRightRoot = document.getElementById('pend-right');
        let pDragging = false;
        
        let pLeftInner = 'S'; // Sol sarkacÄ±n saÄŸa bakan ucu (N-S -> S)
        let pRightInner = 'N'; // SaÄŸ sarkacÄ±n sola bakan ucu (N-S -> N)

        pRightRoot.addEventListener('mousedown', () => pDragging = true);
        window.addEventListener('mouseup', () => pDragging = false);
        document.getElementById('q-string-area').addEventListener('mousemove', (e) => {
            if(!pDragging) return;
            const rect = document.getElementById('q-string-area').getBoundingClientRect();
            let x = ((e.clientX - rect.left) / rect.width) * 100;
            if(x < 40) x = 40; if(x > 90) x = 90;
            pRightRoot.style.left = x + '%';
            updatePendulum();
        });

        function flipPendulum(id) {
            const el = document.getElementById(id);
            // Mevcut durumu kontrol et (N baÅŸta mÄ±?)
            let isNormal = el.innerHTML.trim().startsWith('<div class="q-pole n">N</div>');

            if(isNormal) {
                // Ã‡evir (S-N)
                el.innerHTML = '<div class="q-pole s">S</div><div class="q-pole n">N</div>';
                if(id === 'pmag-left') pLeftInner = 'N'; // SaÄŸ ucu N oldu
                else pRightInner = 'S'; // Sol ucu S oldu
            } else {
                // Normale dÃ¶n (N-S)
                el.innerHTML = '<div class="q-pole n">N</div><div class="q-pole s">S</div>';
                if(id === 'pmag-left') pLeftInner = 'S';
                else pRightInner = 'N';
            }
            updatePendulum();
        }

        function updatePendulum() {
            // MANTIK DÃœZELTME:
            // ZIT Kutuplar: Ã‡eker -> Ä°pler birbirine yaklaÅŸÄ±r (AÅŸaÄŸÄ±daki mÄ±knatÄ±slar iÃ§e doÄŸru) -> / \
            // AYNI Kutuplar: Ä°ter -> Ä°pler birbirinden uzaklaÅŸÄ±r (AÅŸaÄŸÄ±daki mÄ±knatÄ±slar dÄ±ÅŸa doÄŸru) -> \ /

            let attract = (pLeftInner !== pRightInner);

            // Mesafe hesabÄ±
            let lx = 30; 
            let rx = parseFloat(pRightRoot.style.left);
            let dist = rx - lx;

            let angle = 0;
            if(dist < 35) {
                angle = (35 - dist) * 1.5; // YaklaÅŸtÄ±kÃ§a aÃ§Ä± artar
                if(angle > 20) angle = 20;
            }

            if(attract) {
                // Ã‡EKME: Ä°Ã§eri doÄŸru eÄŸil
                // Sol: + aÃ§Ä± (saÄŸa), SaÄŸ: - aÃ§Ä± (sola)
                pLeftRoot.style.transform = `rotate(${angle}deg)`;
                pRightRoot.style.transform = `rotate(${-angle}deg)`;
            } else {
                // Ä°TME: DÄ±ÅŸarÄ± doÄŸru eÄŸil
                // Sol: - aÃ§Ä± (sola), SaÄŸ: + aÃ§Ä± (saÄŸa)
                pLeftRoot.style.transform = `rotate(${-angle}deg)`;
                pRightRoot.style.transform = `rotate(${angle}deg)`;
            }
        }

        // BaÅŸlangÄ±Ã§ tetiklemeleri
        updateSpring();
        updatePendulum();

    </script>
</body>
</html>
