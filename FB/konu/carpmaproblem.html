<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4. SÄ±nÄ±f - Ä°nteraktif Problem Ã‡Ã¶zme</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Patrick+Hand&family=Poppins:wght@400;600&display=swap');

        :root {
            --primary: #3498db;
            --success: #2ecc71;
            --error: #e74c3c;
            --warning: #f1c40f;
            --bg: #fdfbf7;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg);
            margin: 0;
            padding: 20px;
            user-select: none; /* Metin seÃ§imini engeller, tahtada rahat kullanÄ±m iÃ§in */
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            font-family: 'Patrick Hand', cursive;
            color: #2c3e50;
            font-size: 2.5rem;
            margin-bottom: 40px;
            text-shadow: 2px 2px 0px #dfe6e9;
        }

        /* --- KART TASARIMI --- */
        .problem-card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.08);
            padding: 30px;
            margin-bottom: 40px;
            border: 2px solid #eee;
            position: relative;
            overflow: hidden;
        }

        .problem-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 8px;
            height: 100%;
            background: var(--primary);
        }

        .problem-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
        }

        .icon-box {
            font-size: 3rem;
            background: #ecf0f1;
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            border: 3px solid var(--primary);
        }

        .problem-text {
            font-size: 1.2rem;
            line-height: 1.6;
            flex: 1;
        }

        /* --- Ä°NTERAKTÄ°F GÄ°RDÄ° ALANLARI --- */
        .interaction-area {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            border: 2px dashed #bdc3c7;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .math-row {
            display: flex;
            align-items: center;
            gap: 10px;
            font-family: 'Patrick Hand', cursive;
            font-size: 1.5rem;
            flex-wrap: wrap;
        }

        input.user-input {
            width: 80px;
            height: 45px;
            font-family: 'Patrick Hand', cursive;
            font-size: 1.5rem;
            text-align: center;
            border: 2px solid #bdc3c7;
            border-radius: 10px;
            color: #2c3e50;
            transition: all 0.3s ease;
            outline: none;
        }

        input.user-input:focus {
            border-color: var(--primary);
            box-shadow: 0 0 10px rgba(52, 152, 219, 0.3);
        }

        /* DoÄŸru/YanlÄ±ÅŸ DurumlarÄ± */
        input.correct {
            border-color: var(--success);
            background-color: #d5f5e3;
            color: var(--success);
        }

        input.wrong {
            border-color: var(--error);
            background-color: #fadbd8;
            color: var(--error);
            animation: shake 0.3s;
        }

        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
            100% { transform: translateX(0); }
        }

        /* --- BUTONLAR --- */
        .btn-group {
            margin-top: 20px;
            display: flex;
            gap: 15px;
            justify-content: flex-end;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.1s;
            font-size: 1rem;
        }

        button:active {
            transform: scale(0.95);
        }

        .btn-check {
            background-color: var(--success);
            color: white;
            box-shadow: 0 4px 0 #27ae60;
        }

        .btn-reveal {
            background-color: var(--warning);
            color: #d35400;
            box-shadow: 0 4px 0 #f39c12;
        }

        .btn-reset {
            background-color: #95a5a6;
            color: white;
            box-shadow: 0 4px 0 #7f8c8d;
        }

        /* --- DOÄRU YANLIÅ MANTIÄI --- */
        .logic-row {
            display: flex;
            align-items: center;
            background: white;
            padding: 10px;
            border-radius: 10px;
            margin-bottom: 10px;
            border: 1px solid #eee;
        }

        .tf-toggle {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 2px solid #bdc3c7;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            cursor: pointer;
            margin-right: 15px;
            user-select: none;
            background: #fff;
        }

        .tf-toggle.state-d {
            background: var(--success);
            color: white;
            border-color: var(--success);
        }
        
        .tf-toggle.state-y {
            background: var(--error);
            color: white;
            border-color: var(--error);
        }

    </style>
</head>
<body>

<div class="container">
    <h1>ğŸ“ Eksik BÄ±rakÄ±lan Yerleri TamamlayalÄ±m</h1>

    <div class="problem-card" id="p1">
        <div class="problem-header">
            <div class="icon-box">ğŸ‘š</div>
            <div class="problem-text">
                Zeynep, fiyatÄ± <strong>140 TL</strong> olan etekten <strong>2 tane</strong>, fiyatÄ± <strong>180 TL</strong> olan gÃ¶mlekten <strong>3 tane</strong> alÄ±rsa kasaya kaÃ§ TL Ã¶demiÅŸ olur?
            </div>
        </div>

        <div class="interaction-area">
            <div class="math-row">
                <span>Etekler:</span>
                <span>140 x 2 =</span>
                <input type="number" class="user-input" data-ans="280">
                <span>TL</span>
            </div>
            <div class="math-row">
                <span>GÃ¶mlekler:</span>
                <span>180 x 3 =</span>
                <input type="number" class="user-input" data-ans="540">
                <span>TL</span>
            </div>
            <div style="border-top: 2px solid #ddd; margin: 10px 0;"></div>
            <div class="math-row">
                <span>Toplam:</span>
                <input type="number" class="user-input" data-ans="280">
                <span>+</span>
                <input type="number" class="user-input" data-ans="540">
                <span>=</span>
                <input type="number" class="user-input" data-ans="820" style="width: 100px; font-weight: bold; color: var(--primary);">
                <span>TL</span>
            </div>
        </div>

        <div class="btn-group">
            <button class="btn-reset" onclick="resetCard('p1')">Temizle</button>
            <button class="btn-reveal" onclick="revealCard('p1')">ğŸ‘ï¸ CevabÄ± GÃ¶ster</button>
            <button class="btn-check" onclick="checkCard('p1')">âœ… Kontrol Et</button>
        </div>
    </div>

    <div class="problem-card" id="p2">
        <div class="problem-header">
            <div class="icon-box">ğŸ“š</div>
            <div class="problem-text">
                Mert her gÃ¼n <strong>45 sayfa</strong> kitap okumaktadÄ±r. Pazar gÃ¼nÃ¼, gÃ¼nlÃ¼k hedefinden <strong>15 sayfa eksik</strong> okuduÄŸuna gÃ¶re, Mert bir haftada toplam kaÃ§ sayfa okumuÅŸtur?
            </div>
        </div>

        <div class="interaction-area">
            <div class="math-row">
                <span>HaftalÄ±k Hedef:</span>
                <span>45 x 7 =</span>
                <input type="number" class="user-input" data-ans="315">
            </div>
            <div class="math-row">
                <span>Eksik Okuma:</span>
                <input type="number" class="user-input" data-ans="315">
                <span>- 15 =</span>
                <input type="number" class="user-input" data-ans="300" style="width: 100px; font-weight: bold; color: var(--primary);">
                <span>Sayfa</span>
            </div>
        </div>

        <div class="btn-group">
            <button class="btn-reset" onclick="resetCard('p2')">Temizle</button>
            <button class="btn-reveal" onclick="revealCard('p2')">ğŸ‘ï¸ CevabÄ± GÃ¶ster</button>
            <button class="btn-check" onclick="checkCard('p2')">âœ… Kontrol Et</button>
        </div>
    </div>

    <div class="problem-card" id="p3">
        <div class="problem-header">
            <div class="icon-box">ğŸ«</div>
            <div class="problem-text">
                <strong>Okul Mevcudu:</strong> Bir okulda <strong>300 kÄ±z Ã¶ÄŸrenci</strong> vardÄ±r. Erkek Ã¶ÄŸrenci sayÄ±sÄ±, kÄ±zlarÄ±n <strong>2 katÄ±nÄ±n 50 eksiÄŸidir</strong>. Ã–ÄŸretmen sayÄ±sÄ± ise kÄ±zlarÄ±n <strong>10'da biridir</strong>.
                <br><small style="color: #7f8c8d;">(KÄ±z: 300 | Erkek: (300x2)-50 | Ã–ÄŸretmen: 300/10)</small>
            </div>
        </div>

        <div class="interaction-area" style="background: #e3f2fd;">
            <p style="text-align: center; margin-top: 0; color: #1976d2;">Ä°fadelerin baÅŸÄ±na tÄ±klayarak D (DoÄŸru) veya Y (YanlÄ±ÅŸ) iÅŸaretleyiniz.</p>
            
            <div class="logic-row">
                <div class="tf-toggle" onclick="toggleTF(this)" data-ans="D">?</div>
                <div>Erkek Ã¶ÄŸrenci sayÄ±sÄ± 550'dir.</div>
            </div>
            
            <div class="logic-row">
                <div class="tf-toggle" onclick="toggleTF(this)" data-ans="Y">?</div>
                <div>Okuldaki Ã¶ÄŸretmen sayÄ±sÄ± 40'tÄ±r.</div>
            </div>

            <div class="logic-row">
                <div class="tf-toggle" onclick="toggleTF(this)" data-ans="D">?</div>
                <div>Okuldaki toplam kiÅŸi sayÄ±sÄ± (Ã¶ÄŸrenci+Ã¶ÄŸretmen) 880'dir.</div>
            </div>
        </div>

        <div class="btn-group">
            <button class="btn-reset" onclick="resetLogic('p3')">Temizle</button>
            <button class="btn-reveal" onclick="revealLogic('p3')">ğŸ‘ï¸ CevabÄ± GÃ¶ster</button>
            <button class="btn-check" onclick="checkLogic('p3')">âœ… Kontrol Et</button>
        </div>
    </div>

    <div style="text-align: center; color: #bdc3c7; margin-top: 50px;">
        Zeynal Abidin DÄ°NDAROÄLU - 4. SÄ±nÄ±f Ä°nteraktif Ders AracÄ±
    </div>

</div>

<script>
    // --- INPUT TABANLI SORULAR Ä°Ã‡Ä°N FONKSÄ°YONLAR ---

    function checkCard(cardId) {
        const card = document.getElementById(cardId);
        const inputs = card.querySelectorAll('input.user-input');
        
        inputs.forEach(input => {
            const userAnswer = parseInt(input.value);
            const correctAnswer = parseInt(input.getAttribute('data-ans'));
            
            input.classList.remove('correct', 'wrong'); // Ã–nce temizle
            
            if (input.value === "") {
                return; // BoÅŸsa iÅŸlem yapma
            }

            if (userAnswer === correctAnswer) {
                input.classList.add('correct');
            } else {
                input.classList.add('wrong');
            }
        });
    }

    function revealCard(cardId) {
        const card = document.getElementById(cardId);
        const inputs = card.querySelectorAll('input.user-input');
        
        inputs.forEach(input => {
            input.value = input.getAttribute('data-ans');
            input.classList.remove('wrong');
            input.classList.add('correct');
        });
    }

    function resetCard(cardId) {
        const card = document.getElementById(cardId);
        const inputs = card.querySelectorAll('input.user-input');
        inputs.forEach(input => {
            input.value = "";
            input.classList.remove('correct', 'wrong');
        });
    }

    // --- DOÄRU/YANLIÅ (D/Y) Ä°Ã‡Ä°N FONKSÄ°YONLAR ---

    function toggleTF(element) {
        // Durumlar: BoÅŸ -> D -> Y -> BoÅŸ
        if (element.innerText === "?") {
            element.innerText = "D";
            element.className = "tf-toggle state-d";
        } else if (element.innerText === "D") {
            element.innerText = "Y";
            element.className = "tf-toggle state-y";
        } else {
            element.innerText = "?";
            element.className = "tf-toggle";
        }
    }

    function checkLogic(cardId) {
        const card = document.getElementById(cardId);
        const toggles = card.querySelectorAll('.tf-toggle');

        toggles.forEach(toggle => {
            const userAnswer = toggle.innerText;
            const correctAnswer = toggle.getAttribute('data-ans');

            // GÃ¶rsel geri bildirim (Border'Ä± kalÄ±nlaÅŸtÄ±rarak vs.)
            if(userAnswer !== "?" && userAnswer !== correctAnswer) {
                toggle.style.boxShadow = "0 0 10px red";
                setTimeout(() => toggle.style.boxShadow = "none", 1000);
            } else if (userAnswer === correctAnswer) {
                toggle.style.boxShadow = "0 0 10px green";
            }
        });
    }

    function revealLogic(cardId) {
        const card = document.getElementById(cardId);
        const toggles = card.querySelectorAll('.tf-toggle');
        
        toggles.forEach(toggle => {
            const correct = toggle.getAttribute('data-ans');
            toggle.innerText = correct;
            toggle.className = "tf-toggle " + (correct === "D" ? "state-d" : "state-y");
        });
    }

    function resetLogic(cardId) {
        const card = document.getElementById(cardId);
        const toggles = card.querySelectorAll('.tf-toggle');
        toggles.forEach(toggle => {
            toggle.innerText = "?";
            toggle.className = "tf-toggle";
            toggle.style.boxShadow = "none";
        });
    }

</script>

</body>
</html>
