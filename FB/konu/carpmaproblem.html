<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4. SÄ±nÄ±f Matematik - Tam Ä°nteraktif Set</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Comic+Neue:wght@700&family=Poppins:wght@400;600&display=swap');

        :root {
            --bg: #f0f4f8;
            --card-bg: #ffffff;
            --primary: #3498db;
            --success: #2ecc71;
            --error: #e74c3c;
            --text: #2c3e50;
            --header-bg: #ff6b6b;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        h1, h2, h3 {
            font-family: 'Comic Neue', cursive;
        }

        /* --- GENEL KART TASARIMI --- */
        .card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            border: 2px solid #e0e0e0;
        }

        .section-badge {
            display: inline-block;
            background: var(--header-bg);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            margin-bottom: 15px;
            box-shadow: 0 2px 0 #c0392b;
        }

        /* --- INPUT VE BUTONLAR --- */
        input.math-input {
            width: 70px;
            padding: 5px;
            text-align: center;
            font-size: 1.1rem;
            border: 2px solid #bdc3c7;
            border-radius: 8px;
            margin: 0 5px;
            font-family: 'Comic Neue', cursive;
            transition: 0.3s;
        }

        input.math-input:focus {
            border-color: var(--primary);
            outline: none;
        }

        input.correct { background-color: #d4edda; border-color: #28a745; color: #155724; }
        input.wrong { background-color: #f8d7da; border-color: #dc3545; color: #721c24; }

        .btn-check {
            background: var(--success);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 10px;
            box-shadow: 0 3px 0 #27ae60;
        }

        .btn-check:active { transform: translateY(2px); box-shadow: none; }

        .btn-reveal {
            background: #f1c40f;
            color: #d35400;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 10px;
            margin-left: 10px;
            box-shadow: 0 3px 0 #d35400;
        }

        /* --- TABLOLAR --- */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 10px 0;
            font-size: 0.95rem;
        }
        .data-table th { background: #dfe6e9; padding: 8px; border: 1px solid #b2bec3; }
        .data-table td { padding: 8px; border: 1px solid #b2bec3; text-align: center; background: #fff; }

        /* --- SEÃ‡ENEKLÄ° SORULAR (TEST) --- */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
        }
        .option-box {
            background: #f1f2f6;
            padding: 10px;
            border-radius: 8px;
            cursor: pointer;
            border: 2px solid transparent;
            text-align: center;
            font-weight: 600;
        }
        .option-box:hover { background: #e2e6ea; }
        .option-box.selected-correct { background: #d4edda; border-color: #28a745; }
        .option-box.selected-wrong { background: #f8d7da; border-color: #dc3545; }

        /* --- PARÅžÃ–MEN STÄ°LÄ° --- */
        .parchment {
            background: #fff8e1;
            border: 2px solid #ffe082;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            position: relative;
        }

        /* --- AKIÅž ÅžEMASI --- */
        .flow-step {
            background: #e3f2fd;
            padding: 8px;
            margin: 5px 0;
            border-left: 4px solid #2196f3;
            font-family: monospace;
        }

    </style>
</head>
<body>

<div class="container">
    <div style="text-align: center; margin-bottom: 30px;">
        <h1 style="color: #c0392b; margin: 0;">Ä°NTERAKTÄ°F PROBLEM Ã‡Ã–ZME DEFTERÄ°</h1>
        <p>Zeynal Ã–ÄŸretmen ile Matematik AtÃ¶lyesi</p>
    </div>

    <div class="card" id="card1">
        <div class="section-badge">1. Ã–rnek Problem</div>
        <p>AÅŸaÄŸÄ±daki tabloda ÅŸehir tiyatrosundaki bilet fiyatlarÄ± verilmiÅŸtir.</p>
        
        <div style="display: flex; gap: 20px; align-items: flex-start;">
            <table class="data-table" style="width: 200px;">
                <tr><th>Bilet</th><th>Fiyat</th></tr>
                <tr><td>Ã–ÄŸrenci</td><td>15 TL</td></tr>
                <tr><td>Tam</td><td>25 TL</td></tr>
            </table>
            <div style="flex:1;">
                <p><strong>Soru:</strong> 13.00 seansÄ± iÃ§in <strong>20 Ã¶ÄŸrenci</strong> bileti ve <strong>40 tam</strong> bilet satÄ±lmÄ±ÅŸtÄ±r. Toplam tutar nedir?</p>
            </div>
        </div>

        <table class="data-table">
            <tr>
                <td style="width: 20%; background: #e0f7fa; font-weight: bold;">PlanÄ± UygulayalÄ±m</td>
                <td style="text-align: left;">
                    <div style="margin-bottom: 5px;">
                        Ã–ÄŸrenci: 20 x 15 = <input type="number" class="math-input" data-ans="300"> TL
                    </div>
                    <div style="margin-bottom: 5px;">
                        Tam: 40 x 25 = <input type="number" class="math-input" data-ans="1000"> TL
                    </div>
                    <div>
                        Toplam: <input type="number" class="math-input" data-ans="300"> + <input type="number" class="math-input" data-ans="1000"> = <input type="number" class="math-input" data-ans="1300" style="width: 90px; font-weight: bold;"> TL
                    </div>
                </td>
            </tr>
        </table>
        
        <div style="text-align: right;">
            <button class="btn-check" onclick="checkMath('card1')">Kontrol Et</button>
            <button class="btn-reveal" onclick="revealMath('card1')">CevabÄ± AÃ§</button>
        </div>
    </div>

    <div class="card" id="card2">
        <div class="section-badge">2. EÅŸleÅŸtirme (KazanÄ±m PekiÅŸtirme)</div>
        <p>SorularÄ± okuyup aÅŸaÄŸÄ±daki iÅŸlemlerden hangisiyle Ã§Ã¶zÃ¼leceÄŸini seÃ§iniz.</p>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
            <div class="parchment">
                <strong>Limonata:</strong> Bir bardak limonatayÄ± 5 TL'ye mal edip 12 TL'ye satÄ±yor. GÃ¼nde 50 bardak satarsa 3 gÃ¼nde kaÃ§ TL kÃ¢r eder?
                <br><br>
                <select id="sel1" style="width: 100%; padding: 5px;">
                    <option value="0">SeÃ§iniz...</option>
                    <option value="A">A Ä°ÅŸlemi</option>
                    <option value="B">B Ä°ÅŸlemi</option>
                </select>
            </div>
            <div class="parchment">
                <strong>TiÅŸÃ¶rt:</strong> 100 TL'ye alÄ±p 140 TL'ye sattÄ±ÄŸÄ± tiÅŸÃ¶rtlerden, her birinde 20 adet olan kolilerden 4 koli satarsa kÃ¢rÄ± ne olur?
                <br><br>
                <select id="sel2" style="width: 100%; padding: 5px;">
                    <option value="0">SeÃ§iniz...</option>
                    <option value="A">A Ä°ÅŸlemi</option>
                    <option value="B">B Ä°ÅŸlemi</option>
                </select>
            </div>
        </div>

        <div style="margin-top: 20px; display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
            <div style="border: 1px dashed #999; padding: 10px; background: #fff;">
                <strong>A)</strong> (12 - 5) x 50 = 350 <br> 350 x 3 = 1050 TL
            </div>
            <div style="border: 1px dashed #999; padding: 10px; background: #fff;">
                <strong>B)</strong> (140 - 100) x 20 = 800 <br> 800 x 4 = 3200 TL
            </div>
        </div>

        <div style="text-align: right;">
            <button class="btn-check" onclick="checkMatch()">Kontrol Et</button>
        </div>
    </div>

    <div class="card" id="card3">
        <div class="section-badge">3. GÃ¶rsel Problemler</div>

        <div style="margin-bottom: 20px; border-bottom: 1px dashed #ccc; padding-bottom: 10px;">
            <div style="float: right; font-size: 3rem;">ðŸ‘—</div>
            <p><strong>1.</strong> FiyatÄ± <strong>150 TL</strong> olan etekten <input type="number" class="math-input" data-ans="2"> tane, fiyatÄ± <strong>200 TL</strong> olan bluzdan <input type="number" class="math-input" data-ans="3"> tane alÄ±nÄ±yor.</p>
            <p>
                150 x 2 = <input type="number" class="math-input" data-ans="300"><br>
                200 x 3 = <input type="number" class="math-input" data-ans="600"><br>
                Toplam: <input type="number" class="math-input" data-ans="900" style="width: 90px; font-weight: bold;"> TL
            </p>
        </div>

        <div style="margin-bottom: 20px;">
            <div style="float: right; font-size: 3rem;">ðŸ“š</div>
            <p><strong>2.</strong> Her gÃ¼n <strong>40 sayfa</strong> okuyan biri, Pazar gÃ¼nÃ¼ <strong>10 sayfa eksik</strong> okumuÅŸtur. HaftalÄ±k toplam?</p>
            <p>
                40 x 7 = <input type="number" class="math-input" data-ans="280"><br>
                280 - 10 = <input type="number" class="math-input" data-ans="270" style="width: 90px; font-weight: bold;"> Sayfa
            </p>
        </div>

        <div style="background: #e3f2fd; padding: 15px; border-radius: 10px;">
            <p><strong>MantÄ±k:</strong> Okulda 200 kÄ±z var. Erkekler kÄ±zlarÄ±n 3 katÄ±. Ã–ÄŸretmenler kÄ±zlarÄ±n yarÄ±sÄ±.</p>
            <div onclick="toggleTF(this, 'D')" class="tf-item" style="cursor: pointer; padding: 5px; background: white; margin: 5px 0; border: 1px solid #ccc;">
                [ ? ] Erkek Ã¶ÄŸrenci sayÄ±sÄ± 600'dÃ¼r.
            </div>
            <div onclick="toggleTF(this, 'Y')" class="tf-item" style="cursor: pointer; padding: 5px; background: white; margin: 5px 0; border: 1px solid #ccc;">
                [ ? ] Ã–ÄŸretmen sayÄ±sÄ± 150'dir. (200/2=100 olmalÄ±)
            </div>
        </div>

        <div style="text-align: right;">
            <button class="btn-check" onclick="checkMath('card3'); checkTF();">Kontrol Et</button>
            <button class="btn-reveal" onclick="revealMath('card3')">CevabÄ± AÃ§</button>
        </div>
    </div>

    <div class="card">
        <div class="section-badge">4. Sinema Salonu</div>
        <div style="background: #333; color: white; text-align: center; padding: 5px; border-radius: 5px; margin-bottom: 10px;">PERDE</div>
        
        <table class="data-table" style="width: 50%; margin: 0 auto;">
            <tr><th>Ä°ndirimli</th><td>10 TL</td></tr>
            <tr><th>Tam</th><td>20 TL</td></tr>
        </table>

        <p><strong>Soru:</strong> 100 kiÅŸilik salonda 20 koltuk boÅŸ. Ä°ndirimli bilet alanlar, tam bilet alanlarÄ±n 3 katÄ±. Toplam hasÄ±lat nedir?</p>
        <p style="font-size: 0.8rem; color: #666;">(Ä°pucu: 80 izleyici var. 1 kat tam + 3 kat indirimli = 4 kat. 80/4 = 20 Tam bilet)</p>

        <div class="options-grid" id="qCinema">
            <div class="option-box" onclick="selectOption('qCinema', this, false)">A) 800 TL</div>
            <div class="option-box" onclick="selectOption('qCinema', this, true)">B) 1000 TL</div> <div class="option-box" onclick="selectOption('qCinema', this, false)">C) 1200 TL</div>
            <div class="option-box" onclick="selectOption('qCinema', this, false)">D) 1400 TL</div>
        </div>
    </div>

    <div class="card">
        <div class="section-badge">5. KazanÄ±m Testi</div>

        <div style="margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 15px;">
            <strong>1.</strong> Market FiyatlarÄ±: Elma 10 TL, Muz 20 TL. <br>
            Deniz 3 kg Elma, 2 kg Muz alÄ±rsa kaÃ§ TL Ã¶der?
            <div class="options-grid" id="q1">
                <div class="option-box" onclick="selectOption('q1', this, false)">A) 60</div>
                <div class="option-box" onclick="selectOption('q1', this, true)">B) 70</div>
                <div class="option-box" onclick="selectOption('q1', this, false)">C) 80</div>
                <div class="option-box" onclick="selectOption('q1', this, false)">D) 90</div>
            </div>
        </div>

        <div style="margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 15px;">
            <strong>2.</strong> 50 odalÄ± otel. 10 tanesi 2 kiÅŸilik, 40 tanesi 3 kiÅŸilik. Tam dolarsa kaÃ§ kiÅŸi kalÄ±r?
            <div class="options-grid" id="q2">
                <div class="option-box" onclick="selectOption('q2', this, false)">A) 120</div>
                <div class="option-box" onclick="selectOption('q2', this, true)">B) 140</div> <div class="option-box" onclick="selectOption('q2', this, false)">C) 150</div>
                <div class="option-box" onclick="selectOption('q2', this, false)">D) 160</div>
            </div>
        </div>

        <div>
            <strong>3. Bilgisayar AlgoritmasÄ±:</strong>
            <div class="flow-step">1. Girilen sayÄ±yÄ± oku.</div>
            <div class="flow-step">2. SayÄ±yÄ± 5 ile Ã§arp.</div>
            <div class="flow-step">3. SonuÃ§ Ã§iftse 10 ekle, tekse 10 Ã§Ä±kar.</div>
            <div class="flow-step">4. Sonucu yaz.</div>
            
            <table class="data-table" style="margin-top: 10px;">
                <tr>
                    <th>GiriÅŸ Yapan</th>
                    <th>Girilen SayÄ±</th>
                    <th>Ekranda Yazan (SonuÃ§)</th>
                </tr>
                <tr>
                    <td>Umut</td>
                    <td>10</td>
                    <td><input type="number" class="math-input" data-ans="60"></td> </tr>
                <tr>
                    <td>Ã–zlem</td>
                    <td>7</td>
                    <td><input type="number" class="math-input" data-ans="25"></td> </tr>
            </table>
             <div style="text-align: right; margin-top:5px;">
                <button class="btn-check" onclick="checkMath('card')">Tabloyu Kontrol Et</button>
            </div>
        </div>

    </div>
    
    <div style="text-align: center; color: #999; margin-top: 20px; font-size: 0.8rem;">
        Sayfa yenilendiÄŸinde cevaplar sÄ±fÄ±rlanÄ±r. | 4D SÄ±nÄ±fÄ±
    </div>

</div>

<script>
    // --- 1. Matematiksel Input KontrolÃ¼ ---
    function checkMath(containerId) {
        // EÄŸer containerId verilmezse tÃ¼m dÃ¶kÃ¼manÄ± tara (son kart iÃ§in)
        let container = containerId ? document.getElementById(containerId) : document;
        let inputs = container.querySelectorAll('.math-input');
        
        inputs.forEach(inp => {
            let userVal = parseInt(inp.value);
            let correctVal = parseInt(inp.getAttribute('data-ans'));
            
            inp.classList.remove('correct', 'wrong');
            if(inp.value !== "") {
                if(userVal === correctVal) {
                    inp.classList.add('correct');
                } else {
                    inp.classList.add('wrong');
                }
            }
        });
    }

    function revealMath(containerId) {
        let container = document.getElementById(containerId);
        let inputs = container.querySelectorAll('.math-input');
        inputs.forEach(inp => {
            inp.value = inp.getAttribute('data-ans');
            inp.classList.add('correct');
            inp.classList.remove('wrong');
        });
    }

    // --- 2. EÅŸleÅŸtirme KontrolÃ¼ ---
    function checkMatch() {
        let s1 = document.getElementById('sel1');
        let s2 = document.getElementById('sel2');

        // Soru 1 -> A, Soru 2 -> B (MantÄ±ÄŸa gÃ¶re)
        if(s1.value === "A") s1.style.border = "3px solid #2ecc71";
        else if(s1.value !== "0") s1.style.border = "3px solid #e74c3c";

        if(s2.value === "B") s2.style.border = "3px solid #2ecc71";
        else if(s2.value !== "0") s2.style.border = "3px solid #e74c3c";
    }

    // --- 3. DoÄŸru/YanlÄ±ÅŸ Toggle ---
    function toggleTF(el, correctAns) {
        // Durumlar: [ ? ] -> [ D ] -> [ Y ]
        let text = el.innerText;
        
        if(text.includes("?")) {
            el.innerHTML = "[ <strong>D</strong> ]" + text.substring(5);
            el.dataset.userChoice = "D";
            el.style.background = "#fff"; // Renk henÃ¼z belli deÄŸil
        } else if(text.includes("D")) {
            el.innerHTML = "[ <strong>Y</strong> ]" + text.substring(5);
            el.dataset.userChoice = "Y";
        } else {
            el.innerHTML = "[ ? ]" + text.substring(5);
            el.dataset.userChoice = "";
            el.style.background = "#fff";
            el.style.color = "black";
        }
    }

    function checkTF() {
        let items = document.querySelectorAll('.tf-item');
        items.forEach(item => {
            // "toggleTF" fonksiyonunda hangi cevabÄ±n doÄŸru olduÄŸu "onclick" parametresinde yazÄ±lÄ± ama
            // burada basitÃ§e manuel kontrol yapabiliriz veya parametreden Ã§ekebiliriz.
            // Basitlik adÄ±na: onclick'teki stringi parse etmek yerine HTML yapÄ±sÄ±nÄ± kullanÄ±yoruz.
            
            let userChoice = item.dataset.userChoice;
            // onclick="toggleTF(this, 'D')" ÅŸeklindeki stringden doÄŸru cevabÄ± Ã§ekelim:
            let correct = item.getAttribute('onclick').includes("'D'") ? "D" : "Y";

            if(userChoice) {
                if(userChoice === correct) {
                    item.style.background = "#d4edda";
                    item.style.color = "#155724";
                } else {
                    item.style.background = "#f8d7da";
                    item.style.color = "#721c24";
                }
            }
        });
    }

    // --- 4. Ã‡oktan SeÃ§meli (Test) ---
    function selectOption(groupId, el, isCorrect) {
        // Ã–nce o gruptaki diÄŸer seÃ§imleri temizle
        let group = document.getElementById(groupId);
        let options = group.querySelectorAll('.option-box');
        options.forEach(opt => {
            opt.classList.remove('selected-correct', 'selected-wrong');
        });

        // SeÃ§ileni iÅŸaretle
        if(isCorrect) {
            el.classList.add('selected-correct');
        } else {
            el.classList.add('selected-wrong');
        }
    }
</script>

</body>
</html>
